<!DOCTYPE html>
<html lang="en"><head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>C语言 cheatsheet</title>
<script id="hp_same_"></script><script id="hp_done_"></script><link rel="stylesheet" href="../css/main.css?version=2021082402"><link rel="stylesheet" href="../css/prism.css?version=2021082402"></head>

<body>
    <script>
        if (!location.hostname.match(/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/)
            && location.hostname !== 'localhost'
        ) {
            if (location.protocol === 'http:') {
                // https 跳转
                location.href = 'https:' + location.href.substring(window.location.protocol.length)
            } else if (location.pathname === '/') {
                // 静态跳转
                if ((/#\/[^/]+/).test(location.hash)) {
                    location.href = `https://${location.hostname}/docs/${location.hash.substring(2)}.html`
                } else {
                    location.href = `https://${location.hostname}/docs/`
                }
            }
        }
        let isHtml = true
    </script>

    <div id="loading" class="hide" data-cs-theme="light"></div>
    <div id="top-nav" data-cs-theme="light">
        <div class="top-nav__wrapper">
            <div id="go-back" onclick="history.go(-1)">返回</div>
            <a id="go-home" href="./index.html">首页</a>

        </div>
    </div>
    <div id="main">
        <div id="sheet-wrapper">
            <div id="sheet-title">
                <h1>C语言<span> cheatsheet</span></h1>
            </div>
            <div id="sheet-body">
                
                            <div class="h2-section" style="height: 2201px">
                                <div class="h2-section-title"><h2 id="id-621">基本语法</h2></div>
                                
                            <div class="sheet-section"  data-position="580|0|42">
                                <div class="section-title"><h3 id="id-613">语句</h3></div>
                                <div class="section-body">
                                    <p><code>C</code> 语言的代码由一行行语句（<code>statement</code>）组成。语句就是程序执行的一个操作命令。<code>C</code> 语言规定，语句必须使用分号结尾，除非有明确规定可以不写分号。</p>
<pre class="language-c" tabindex="0"><code class="language-c" style=""><span class="token keyword">int</span> x <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> y<span class="token punctuation">;</span> y <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
</code></pre>
                                </div>
                            </div>

                            <div class="sheet-section"  data-position="580|600|42">
                                <div class="section-title"><h3 id="id-614">表达式</h3></div>
                                <div class="section-body">
                                    <p><code>C</code> 语言的代码由一行行语句（<code>statement</code>）组成。语句就是程序执行的一个操作命令。<code>C</code> 语言规定，语句必须使用分号结尾，除非有明确规定可以不写分号。</p>
<pre class="language-c" tabindex="0"><code class="language-c" style=""><span class="token number">1</span> <span class="token operator">+</span> <span class="token number">2</span>
</code></pre>
<p>表达式与语句的区别主要是两点：</p>
<ul><li>语句可以包含表达式，但是表达式本身不构成语句。
</li><li>表达式都有返回值，语句不一定有。因为语句用来执行某个命令，很多时候不需要返回值，比如变量声明语句（<code>int x = 1</code>）就没有返回值。
</li></ul>
                                </div>
                            </div>

                            <div class="sheet-section"  data-position="580|0|246">
                                <div class="section-title"><h3 id="id-615">语句块</h3></div>
                                <div class="section-body">
                                    <p><code>C</code> 语言允许多个语句使用一对大括号<code>{}</code>，组成一个块，也称为复合语句（<code>compounded statement</code>）。在语法上，语句块可以视为多个语句组成的一个复合语句。</p>
<pre class="language-c" tabindex="0"><code class="language-c" style=""><span class="token punctuation">{</span>
  <span class="token keyword">int</span> x<span class="token punctuation">;</span>
  x <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
                                </div>
                            </div>

                            <div class="sheet-section"  data-position="580|600|355">
                                <div class="section-title"><h3 id="id-616">注释</h3></div>
                                <div class="section-body">
                                    <p>单行注释</p>
<pre class="language-c" tabindex="0"><code class="language-c" style=""><span class="token comment">// 这是一行注释</span>

<span class="token keyword">int</span> x <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// 这也是注释</span>
</code></pre>
<p>多行注释</p>
<pre class="language-c" tabindex="0"><code class="language-c" style=""><span class="token comment">/* 注释 */</span>

<span class="token comment">/*
  这是一行注释
*/</span>

<span class="token keyword">int</span> <span class="token function">open</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span> s <span class="token comment">/* file name */</span><span class="token punctuation">,</span> <span class="token keyword">int</span> mode<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
                                </div>
                            </div>

                            <div class="sheet-section"  data-position="580|0|491">
                                <div class="section-title"><h3 id="id-617">printf()</h3></div>
                                <div class="section-body">
                                    <p><code>printf()</code>的作用是将参数文本输出到屏幕。它名字里面的<code>f</code>代表<code>format</code>（格式化），表示可以定制输出文本的格式。</p>
<p><code>printf()</code>不会在行尾自动添加换行符，为了让光标移到下一行的开头，可以在输出文本的结尾，添加一个换行符 <code>\n</code> 。</p>
<pre class="language-c" tabindex="0"><code class="language-c" style=""><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Hello World\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
                                </div>
                            </div>

                            <div class="sheet-section"  data-position="580|0|735">
                                <div class="section-title"><h3 id="id-618">printf() 占位符</h3></div>
                                <div class="section-body">
                                    <p><code>printf()</code>可以在输出文本中指定占位符。所谓“占位符”：</p>

            <table>
                <thead class="hide">
                    <tr>
                        <th>code</th><th>desc</th>
                    </tr>
                </thead>
                <tbody>
                <tr><td><code>%a</code></td><td>浮点数</td></tr><tr><td><code>%A</code></td><td>浮点数</td></tr><tr><td><code>%c</code></td><td>字符</td></tr><tr><td><code>%d</code></td><td>十进制整数</td></tr><tr><td><code>%e</code></td><td>使用科学计数法的浮点数，指数部分的e为小写</td></tr><tr><td><code>%E</code></td><td>使用科学计数法的浮点数，指数部分的E为大写</td></tr><tr><td><code>%i</code></td><td>整数，基本等同于%d</td></tr><tr><td><code>%f</code></td><td>小数（包含float类型和double类型）</td></tr><tr><td><code>%g</code></td><td>6个有效数字的浮点数。整数部分一旦超过6位，就会自动转为科学计数法，指数部分的e为小写</td></tr><tr><td><code>%G</code></td><td>等同于%g，唯一的区别是指数部分的E为大写</td></tr><tr><td><code>%hd</code></td><td>十进制 short int 类型</td></tr><tr><td><code>%ho</code></td><td>八进制 short int 类型</td></tr><tr><td><code>%hx</code></td><td>十六进制 short int 类型</td></tr><tr><td><code>%hu</code></td><td>unsigned short int 类型</td></tr><tr><td><code>%ld</code></td><td>十进制 long int 类型</td></tr><tr><td><code>%lo</code></td><td>八进制 long int 类型</td></tr><tr><td><code>%lx</code></td><td>十六进制 long int 类型</td></tr><tr><td><code>%lu</code></td><td>unsigned long int 类型</td></tr><tr><td><code>%lld</code></td><td>十进制 long long int 类型</td></tr><tr><td><code>%llo</code></td><td>八进制 long long int 类型</td></tr><tr><td><code>%llx</code></td><td>十六进制 long long int 类型</td></tr><tr><td><code>%llu</code></td><td>unsigned long long int 类型</td></tr><tr><td><code>%Le</code></td><td>科学计数法表示的 long double 类型浮点数</td></tr><tr><td><code>%Lf</code></td><td>long double 类型浮点数</td></tr><tr><td><code>%n</code></td><td>已输出的字符串数量。该占位符本身不输出，只将值存储在指定变量之中</td></tr><tr><td><code>%o</code></td><td>八进制整数</td></tr><tr><td><code>%p</code></td><td>指针</td></tr><tr><td><code>%s</code></td><td>字符串</td></tr><tr><td><code>%u</code></td><td>无符号整数（unsigned int）</td></tr><tr><td><code>%x</code></td><td>十六进制整数</td></tr><tr><td><code>%zd</code></td><td>size_t类型</td></tr><tr><td><code>%%</code></td><td>输出一个百分号</td></tr>
                </tbody>
            </table>
                                </div>
                            </div>

                            <div class="sheet-section"  data-position="580|600|773">
                                <div class="section-title"><h3 id="id-619">printf() 输出格式</h3></div>
                                <div class="section-body">
                                    <h4>限定宽度</h4>
<pre class="language-c" tabindex="0"><code class="language-c" style=""><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%5d\n"</span><span class="token punctuation">,</span> <span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出为 "  123"</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%-5d\n"</span><span class="token punctuation">,</span> <span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出为 "123  "</span>
</code></pre>
<p><code>%5d</code>表示这个占位符的宽度至少为<code>5</code>位。如果不满<code>5</code>位，对应的值的前面会添加空格。<code>-</code>号表示左对齐。</p>
<pre class="language-c" tabindex="0"><code class="language-c" style=""><span class="token comment">// 输出 "  123.450000"</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%12f\n"</span><span class="token punctuation">,</span> <span class="token number">123.45</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><code>%12f</code>表示输出的浮点数最少要占据<code>12</code>位。</p>
<h4>总是显示正负号</h4>
<pre class="language-c" tabindex="0"><code class="language-c" style=""><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%+d\n"</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出 +12</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%+d\n"</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出 -12</span>
</code></pre>
<p><code>%+d</code>可以确保输出的数值，总是带有正负号。</p>
<h4>限定小数位数</h4>
<pre class="language-c" tabindex="0"><code class="language-c" style=""><span class="token comment">// 输出为 "  0.50"</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%6.2f\n"</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>最小宽度和小数位数这两个限定值，都可以用<code>*</code>代替，通过<code>printf()</code>的参数传入。</p>
<pre class="language-c" tabindex="0"><code class="language-c" style=""><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%*.*f\n"</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h4>输出部分字符串</h4>
<p><code>%s</code>占位符用来输出字符串，默认是全部输出。如果只想输出开头的部分，可以用<code>%.[m]s</code>指定输出的长度，其中<code>[m]</code>代表一个数字，表示所要输出的长度。</p>
<pre class="language-c" tabindex="0"><code class="language-c" style=""><span class="token comment">// 输出 hello</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%.5s\n"</span><span class="token punctuation">,</span> <span class="token string">"hello world"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>上面示例中，占位符<code>%.5s</code>表示只输出字符串<code>hello world</code>的前<code>5</code>个字符，即<code>hello</code>。</p>
                                </div>
                            </div>

                            <div class="sheet-section"  data-position="580|600|1713">
                                <div class="section-title"><h3 id="id-620">标准库，头文件</h3></div>
                                <div class="section-body">
                                    <p>程序需要用到的功能，不一定需要自己编写，<code>C</code> 语言可能已经自带了。程序员只要去调用这些自带的功能，就省得自己编写代码了。举例来说，<code>printf()</code>这个函数就是 <code>C</code> 语言自带的，只要去调用它，就能实现在屏幕上输出内容。</p>
<p><code>C</code> 语言自带的所有这些功能，统称为“标准库”（<code>standard library</code>），因为它们是写入标准的，到底包括哪些功能，应该怎么使用的，都是规定好的，这样才能保证代码的规范和可移植。</p>
<p>不同的功能定义在不同的文件里面，这些文件统称为“头文件”（<code>header file</code>）。如果系统自带某一个功能，就一定还会自带描述这个功能的头文件，比如<code>printf()</code>的头文件就是系统自带的<code>stdio.h</code>。头文件的后缀通常是<code>.h</code>。</p>
<p>如果要使用某个功能，就必须先加载对应的头文件，加载使用的是#<code>include</code>命令。这就是为什么使用<code>printf()</code>之前，必须先加载<code>stdio.h</code>的原因。</p>
<pre class="language-c" tabindex="0"><code class="language-c" style=""><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h&gt;</span></span>
</code></pre>
                                </div>
                            </div>
                            </div>
                            

                            <div class="h2-section" style="height: 753px">
                                <div class="h2-section-title"><h2 id="id-626">变量</h2></div>
                                
                            <div class="sheet-section"  data-position="580|0|42">
                                <div class="section-title"><h3 id="id-622">变量名</h3></div>
                                <div class="section-body">
                                    <p>变量名在 <code>C</code> 语言里面属于标识符（<code>identifier</code>），命名有严格的规范。</p>
<ul><li>只能由字母（包括大写和小写）、数字和下划线（<code>_</code>）组成。
</li><li>不能以数字开头。
</li><li>长度不能超过<code>63</code>个字符。
</li></ul>
<p><em>关键字</em>不能用作变量名。另外，<code>C</code> 语言还保留了一些词，供未来使用，这些保留字也不能用作变量名。下面就是 <code>C</code> 语言主要的关键字和保留字。</p>
<pre class="language- language-none" tabindex="0"><code class="language- language-none" style="">auto, break, case, char, const, continue, default, do, double, else, 
enum, extern, float, for, goto, if, inline, int, long, register, 
restrict, return, short, signed, sizeof, static, struct, switch, 
typedef, union, unsigned, void, volatile, while
</code></pre>
<p>另外，两个下划线开头的变量名，以及一个下划线 <code>+</code> 大写英文字母开头的变量名，都是系统保留的，自己不应该起这样的变量名。</p>
                                </div>
                            </div>

                            <div class="sheet-section"  data-position="580|600|42">
                                <div class="section-title"><h3 id="id-623">变量的声明</h3></div>
                                <div class="section-body">
                                    <p>变量使用前必须先声明，每个变量都有自己的类型（<code>type</code>）。声明变量时，必须把变量的类型告诉编译器。</p>
<p>如果几个变量具有相同类型，可以在同一行声明。</p>
<pre class="language-c" tabindex="0"><code class="language-c" style=""><span class="token keyword">int</span> height<span class="token punctuation">,</span> width<span class="token punctuation">;</span>

<span class="token comment">// 等同于</span>
<span class="token keyword">int</span> height<span class="token punctuation">;</span>
<span class="token keyword">int</span> width<span class="token punctuation">;</span>
</code></pre>
                                </div>
                            </div>

                            <div class="sheet-section"  data-position="580|600|342">
                                <div class="section-title"><h3 id="id-624">变量的赋值</h3></div>
                                <div class="section-body">
                                    <p><code>C</code> 语言会在变量声明时，就为它分配内存空间，但是不会清除内存里面原来的值。这导致声明变量以后，变量会是一个随机的值。所以，变量一定要赋值以后才能使用。</p>
<pre class="language-c" tabindex="0"><code class="language-c" style=""><span class="token keyword">int</span> num <span class="token operator">=</span> <span class="token number">42</span><span class="token punctuation">;</span>

<span class="token keyword">int</span> x<span class="token punctuation">,</span> y<span class="token punctuation">;</span>

x <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
y <span class="token operator">=</span> <span class="token punctuation">(</span>x <span class="token operator">=</span> <span class="token number">2</span> <span class="token operator">*</span> x<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><code>C</code> 语言有左值（<code>left value</code>）和右值（<code>right value</code>）的概念。左值是可以放在赋值运算符左边的值，一般是变量；右值是可以放在赋值运算符右边的值，一般是一个具体的值。这是为了强调<em>有些值不能放在赋值运算符的左边</em>，比如<code>x = 1</code>是合法的表达式，但是<code>1 = x</code>就会报错。</p>
                                </div>
                            </div>

                            <div class="sheet-section"  data-position="580|0|497">
                                <div class="section-title"><h3 id="id-625">变量的作用域</h3></div>
                                <div class="section-body">
                                    <p>作用域（<code>scope</code>）指的是变量生效的范围。<code>C</code> 语言的变量作用域主要有两种：文件作用域（<code>file scope</code>）和块作用域（<code>block scope</code>）。</p>
<p><em>文件作用域</em>（<code>file scope</code>）指的是，在源码文件顶层声明的变量，从声明的位置到文件结束都有效。</p>
<p><em>块作用域</em>（<code>block scope</code>）指的是由大括号（<code>{}</code>）组成的代码块，它形成一个单独的作用域。凡是在块作用域里面声明的变量，只在当前代码块有效，代码块外部不可见。</p>
                                </div>
                            </div>
                            </div>
                            

                            <div class="h2-section" style="height: 1082px">
                                <div class="h2-section-title"><h2 id="id-634">运算符</h2></div>
                                
                            <div class="sheet-section"  data-position="580|0|42">
                                <div class="section-title"><h3 id="id-627">算术运算符</h3></div>
                                <div class="section-body">
                                    
            <table>
                <thead class="hide">
                    <tr>
                        <th>code</th><th>desc</th>
                    </tr>
                </thead>
                <tbody>
                <tr><td><code>+</code></td><td>正值运算符（一元运算符）</td></tr><tr><td><code>-</code></td><td>负值运算符（一元运算符）</td></tr><tr><td><code>+</code></td><td>加法运算符（二元运算符）</td></tr><tr><td><code>-</code></td><td>减法运算符（二元运算符）</td></tr><tr><td><code>*</code></td><td>乘法运算符</td></tr><tr><td><code>/</code></td><td>除法运算符</td></tr><tr><td><code>%</code></td><td>余值运算符</td></tr>
                </tbody>
            </table>
<p>赋值运算的简写形式，<code>[运算符]=</code>，对自身的值进行算术运算。</p>
                                </div>
                            </div>

                            <div class="sheet-section"  data-position="580|600|42">
                                <div class="section-title"><h3 id="id-628">自增运算符，自减运算符</h3></div>
                                <div class="section-body">
                                    
            <table>
                <thead class="hide">
                    <tr>
                        <th>code</th><th>desc</th>
                    </tr>
                </thead>
                <tbody>
                <tr><td><code>++</code></td><td>自增运算符</td></tr><tr><td><code>--</code></td><td>自减运算符</td></tr>
                </tbody>
            </table>
                                </div>
                            </div>

                            <div class="sheet-section"  data-position="580|600|188">
                                <div class="section-title"><h3 id="id-629">关系运算符</h3></div>
                                <div class="section-body">
                                    
            <table>
                <thead class="hide">
                    <tr>
                        <th>code</th><th>desc</th>
                    </tr>
                </thead>
                <tbody>
                <tr><td><code>&gt; </code></td><td>大于运算符</td></tr><tr><td><code>&lt; </code></td><td>小于运算符</td></tr><tr><td><code>&gt;=</code></td><td>大于等于运算符</td></tr><tr><td><code>&lt;=</code></td><td>小于等于运算符</td></tr><tr><td><code>==</code></td><td>相等运算符</td></tr><tr><td><code>!=</code></td><td>不相等运算符</td></tr>
                </tbody>
            </table>
<p>关系表达式通常返回<code>0</code>或<code>1</code>，表示真伪。<code>C</code> 语言中，<code>0</code>表示伪，所有非零值表示真。</p>
                                </div>
                            </div>

                            <div class="sheet-section"  data-position="580|0|447">
                                <div class="section-title"><h3 id="id-630">逻辑运算符</h3></div>
                                <div class="section-body">
                                    
            <table>
                <thead class="hide">
                    <tr>
                        <th>code</th><th>desc</th>
                    </tr>
                </thead>
                <tbody>
                <tr><td><code>!</code></td><td>否运算符（改变单个表达式的真伪）。</td></tr><tr><td><code>&amp;&amp;</code></td><td>与运算符（两侧的表达式都为真，则为真，否则为伪）。</td></tr><tr><td><code>||</code></td><td>或运算符（两侧至少有一个表达式为真，则为真，否则为伪）。</td></tr>
                </tbody>
            </table>
                                </div>
                            </div>

                            <div class="sheet-section"  data-position="580|600|551">
                                <div class="section-title"><h3 id="id-631">位运算符</h3></div>
                                <div class="section-body">
                                    
            <table>
                <thead class="hide">
                    <tr>
                        <th>code</th><th>desc</th>
                    </tr>
                </thead>
                <tbody>
                <tr><td><code>～</code></td><td>取反运算符</td></tr><tr><td><code>&amp;</code></td><td>与运算符</td></tr><tr><td><code>|</code></td><td>或运算符</td></tr><tr><td><code>^</code></td><td>异或运算符</td></tr><tr><td><code>&lt;&lt;</code></td><td>左移运算符</td></tr><tr><td><code>&gt;&gt;</code></td><td>右移运算符</td></tr>
                </tbody>
            </table>
<p>位运算的简写形式，<code>[运算符]=</code>，对自身的值进行位运算。</p>
<pre class="language-c" tabindex="0"><code class="language-c" style=""><span class="token keyword">int</span> val <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
val <span class="token operator">=</span> val <span class="token operator">&gt;&gt;</span> <span class="token number">2</span><span class="token punctuation">;</span>

<span class="token comment">// 简写为</span>
val <span class="token operator">&gt;&gt;=</span> <span class="token number">2</span><span class="token punctuation">;</span>
</code></pre>
                                </div>
                            </div>

                            <div class="sheet-section"  data-position="580|0|635">
                                <div class="section-title"><h3 id="id-632">逗号运算符</h3></div>
                                <div class="section-body">
                                    <p>逗号运算符用于将多个表达式写在一起，从左到右依次运行每个表达式。</p>
<pre class="language-c" tabindex="0"><code class="language-c" style="">x <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">,</span> y <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>
</code></pre>
                                </div>
                            </div>

                            <div class="sheet-section"  data-position="580|0|795">
                                <div class="section-title"><h3 id="id-633">运算优先级</h3></div>
                                <div class="section-body">
                                    <p>下面是部分运算符的优先级顺序（按照优先级从高到低排列）。</p>
<ul><li>圆括号（<code>()</code>）
</li><li>自增运算符（<code>++</code>），自减运算符（<code>--</code>）
</li><li>一元运算符（<code>+</code>和<code>-</code>）
</li><li>乘法（<code>*</code>），除法（<code>/</code>）
</li><li>加法（<code>+</code>），减法（<code>-</code>）
</li><li>关系运算符（<code>&lt;</code>、<code>&gt;</code>等）
</li><li>赋值运算符（<code>=</code>）
</li></ul>
                                </div>
                            </div>
                            </div>
                            

                            <div class="h2-section" style="height: 1870px">
                                <div class="h2-section-title"><h2 id="id-644">流程控制</h2></div>
                                
                            <div class="sheet-section"  data-position="580|0|42">
                                <div class="section-title"><h3 id="id-635">if 语句</h3></div>
                                <div class="section-body">
                                    <p><code>if</code>语句用于条件判断，满足条件时，就执行指定的语句。</p>
<pre class="language-c" tabindex="0"><code class="language-c" style=""><span class="token keyword">if</span> <span class="token punctuation">(</span>expression<span class="token punctuation">)</span> statement
</code></pre>
<p><code>if</code>语句可以带有<code>else</code>分支，指定条件不成立时（表达式<code>expression</code>的值为<code>0</code>），所要执行的代码。</p>
<pre class="language-c" tabindex="0"><code class="language-c" style=""><span class="token keyword">if</span> <span class="token punctuation">(</span>expression<span class="token punctuation">)</span> statement
<span class="token keyword">else</span> statement
</code></pre>
<p><code>else</code>可以与另一个<code>if</code>语句连用，构成多重判断。</p>
<pre class="language-c" tabindex="0"><code class="language-c" style=""><span class="token keyword">if</span> <span class="token punctuation">(</span>expression<span class="token punctuation">)</span>
  statement
<span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>expression<span class="token punctuation">)</span>
  statement
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>expression<span class="token punctuation">)</span>
  statement
<span class="token keyword">else</span>
  statement
</code></pre>
<p>为了提供代码的可读性，建议使用大括号，明确<code>else</code>匹配哪一个<code>if</code>。</p>
<pre class="language-c" tabindex="0"><code class="language-c" style=""><span class="token keyword">if</span> <span class="token punctuation">(</span>number <span class="token operator">&gt;</span> <span class="token number">6</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>number <span class="token operator">&lt;</span> <span class="token number">12</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"The number is more than 6, less than 12.\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
  <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"It is wrong number.\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
                                </div>
                            </div>

                            <div class="sheet-section"  data-position="580|600|42">
                                <div class="section-title"><h3 id="id-636">三元运算符 ?:</h3></div>
                                <div class="section-body">
                                    <p>三元表达式<code>?:</code>，可以用作<code>if...else</code>的简写形式。</p>
<pre class="language-c" tabindex="0"><code class="language-c" style=""><span class="token operator">&lt;</span>expression1<span class="token operator">&gt;</span> <span class="token operator">?</span> <span class="token operator">&lt;</span>expression2<span class="token operator">&gt;</span> <span class="token operator">:</span> <span class="token operator">&lt;</span>expression3<span class="token operator">&gt;</span>
</code></pre>
<p>这个操作符的含义是，表达式<code>expression1</code>如果为<code>true</code>（非<code>0</code>值），就执行<code>expression2</code>，否则执行<code>expression3</code>。</p>
                                </div>
                            </div>

                            <div class="sheet-section"  data-position="580|600|277">
                                <div class="section-title"><h3 id="id-637">switch 语句</h3></div>
                                <div class="section-body">
                                    <p><code>switch</code> 语句是一种特殊形式的 <code>if...else</code> 结构，用于判断条件有多个结果的情况。它把多重的<code>else if</code>改成更易用、可读性更好的形式。</p>
<pre class="language-c" tabindex="0"><code class="language-c" style=""><span class="token keyword">switch</span> <span class="token punctuation">(</span>expression<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">case</span> value1<span class="token operator">:</span> statement
  <span class="token keyword">case</span> value2<span class="token operator">:</span> statement
  <span class="token keyword">default</span><span class="token operator">:</span> statement
<span class="token punctuation">}</span>
</code></pre>
<p>每个<code>case</code>语句体的结尾，都应该有一个<code>break</code>语句，作用是跳出整个<code>switch</code>结构，不再往下执行。如果缺少<code>break</code>，就会导致继续执行下一个<code>case</code>或<code>default</code>分支。</p>
<pre class="language-c" tabindex="0"><code class="language-c" style=""><span class="token keyword">switch</span> <span class="token punctuation">(</span>grade<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">case</span> <span class="token number">0</span><span class="token operator">:</span>
  <span class="token keyword">case</span> <span class="token number">1</span><span class="token operator">:</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"True"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">break</span><span class="token punctuation">;</span>
  <span class="token keyword">default</span><span class="token operator">:</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Illegal"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
                                </div>
                            </div>

                            <div class="sheet-section"  data-position="580|600|804">
                                <div class="section-title"><h3 id="id-638">while 语句</h3></div>
                                <div class="section-body">
                                    <p><code>while</code>语句用于循环结构，满足条件时，不断执行循环体。</p>
<pre class="language-c" tabindex="0"><code class="language-c" style=""><span class="token keyword">while</span> <span class="token punctuation">(</span>expression<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  statement<span class="token punctuation">;</span>
  statement<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>只要条件为真，<code>while</code>会产生无限循环。下面是一种常见的无限循环的写法。</p>
<pre class="language-c" tabindex="0"><code class="language-c" style=""><span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span>
</code></pre>
                                </div>
                            </div>

                            <div class="sheet-section"  data-position="580|0|821">
                                <div class="section-title"><h3 id="id-639">do...while 结构</h3></div>
                                <div class="section-body">
                                    <p><code>do...while</code>结构是<code>while</code>的变体，它会先执行一次循环体，然后再判断是否满足条件。如果满足的话，就继续执行循环体，否则跳出循环。</p>
<pre class="language-c" tabindex="0"><code class="language-c" style=""><span class="token keyword">do</span> statement
<span class="token keyword">while</span> <span class="token punctuation">(</span>expression<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>上面代码中，不管条件<code>expression</code>是否成立，循环体<code>statement</code>至少会执行一次。</p>
                                </div>
                            </div>

                            <div class="sheet-section"  data-position="580|0|1076">
                                <div class="section-title"><h3 id="id-640">for 语句</h3></div>
                                <div class="section-body">
                                    <p><code>for</code>语句是最常用的循环结构，通常用于精确控制循环次数。</p>
<pre class="language-c" tabindex="0"><code class="language-c" style=""><span class="token keyword">for</span> <span class="token punctuation">(</span>initialization<span class="token punctuation">;</span> continuation<span class="token punctuation">;</span> action<span class="token punctuation">)</span>
  statement<span class="token punctuation">;</span>
</code></pre>
<ul><li><code>initialization</code>：初始化表达式，用于初始化循环变量，只执行一次。
</li><li><code>continuation</code>：判断表达式，只要为<code>true</code>，就会不断执行循环体。
</li><li><code>action</code>：循环变量处理表达式，每轮循环结束后执行，使得循环变量发生变化。
</li></ul>
                                </div>
                            </div>

                            <div class="sheet-section"  data-position="580|600|1163">
                                <div class="section-title"><h3 id="id-641">break 语句</h3></div>
                                <div class="section-body">
                                    <p><code>break</code>语句有两种用法：<span class="sn">1</span>一种是与<code>switch</code>语句配套使用，用来中断某个分支的执行<code>,</code> <span class="sn">2</span>另一种用法是在循环体内部跳出循环，不再进行后面的循环了。</p>
<pre class="language-c" tabindex="0"><code class="language-c" style=""><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">3</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> <span class="token number">3</span><span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d, %d\n"</span><span class="token punctuation">,</span> i<span class="token punctuation">,</span> j<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">break</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<p>上面示例中，<code>break</code>语句使得循环跳到下一个<code>i</code>。</p>
                                </div>
                            </div>

                            <div class="sheet-section"  data-position="580|0|1343">
                                <div class="section-title"><h3 id="id-642">continue 语句</h3></div>
                                <div class="section-body">
                                    <p><code>continue</code>语句用于在循环体内部终止本轮循环，进入下一轮循环。</p>
<pre class="language-c" tabindex="0"><code class="language-c" style=""><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">3</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> <span class="token number">3</span><span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d, %d\n"</span><span class="token punctuation">,</span> i<span class="token punctuation">,</span> j<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">continue</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<p>上面示例中，有没有<code>continue</code>语句，效果一样，都表示跳到下一个<code>j</code>。</p>
                                </div>
                            </div>

                            <div class="sheet-section"  data-position="580|600|1498">
                                <div class="section-title"><h3 id="id-643">goto 语句</h3></div>
                                <div class="section-body">
                                    <p><code>goto</code> 语句用于跳到指定的标签名。<em>这会破坏结构化编程，建议不要轻易使用</em>。</p>
<pre class="language-c" tabindex="0"><code class="language-c" style=""><span class="token keyword">char</span> ch<span class="token punctuation">;</span>

top<span class="token operator">:</span> ch <span class="token operator">=</span> <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span>ch <span class="token operator">==</span> <span class="token string">'q'</span><span class="token punctuation">)</span>
  <span class="token keyword">goto</span> top<span class="token punctuation">;</span>
</code></pre>
<p>上面示例中，<code>top</code>是一个标签名，可以放在正常语句的前面，相当于为这行语句做了一个标记。程序执行到<code>goto</code>语句，就会跳转到它指定的标签名。</p>
<p><code>goto</code> 只能在同一个函数之中跳转，并不能跳转到其他函数。</p>
                                </div>
                            </div>
                            </div>
                            

                            <div class="h2-section" style="height: 4214px">
                                <div class="h2-section-title"><h2 id="id-657">数据类型</h2></div>
                                
                            <div class="sheet-section"  data-position="580|0|42">
                                <div class="section-title"><h3 id="id-645"></h3></div>
                                <div class="section-body">
                                    <p>基本数据类型有三种：字符（<code>char</code>）、整数（<code>int</code>）和浮点数（<code>float</code>）。复杂的类型都是基于它们构建的。</p>
                                </div>
                            </div>

                            <div class="sheet-section"  data-position="580|600|42">
                                <div class="section-title"><h3 id="id-646">字符类型</h3></div>
                                <div class="section-body">
                                    <p>字符类型指的是<em>单个</em>字符，类型声明使用<code>char</code>关键字。</p>
<pre class="language-c" tabindex="0"><code class="language-c" style=""><span class="token keyword">char</span> c <span class="token operator">=</span> <span class="token string">'B'</span><span class="token punctuation">;</span>
</code></pre>
<p>字符常量<em>必须放在单引号里面</em>。</p>
<p>在计算机内部，字符类型使用一个字节（<code>8</code>位）存储。<code>C</code> 语言将其当作整数处理，所以字符类型就是宽度为一个字节的整数。每个字符对应一个整数（由 <code>ASCII</code> 码确定），比如<code>B</code>对应整数<code>66</code>。</p>
<p>字符类型在不同计算机的默认范围是不一样的。一些系统默认为<code>-128</code>到<code>127</code>，另一些系统默认为<code>0</code>到<code>255</code>。这两种范围正好都能覆盖<code>0</code>到<code>127</code>的 <code>ASCII</code> 字符范围。</p>
<p>只要在字符类型的范围之内，整数与字符是可以互换的，都可以赋值给字符类型的变量。</p>
<pre class="language-c" tabindex="0"><code class="language-c" style=""><span class="token keyword">char</span> c <span class="token operator">=</span> <span class="token number">66</span><span class="token punctuation">;</span>
<span class="token comment">// 等同于</span>
<span class="token keyword">char</span> c <span class="token operator">=</span> <span class="token string">'B'</span><span class="token punctuation">;</span>
</code></pre>
<p>两个字符类型的变量可以进行<em>数学运算</em>。</p>
                                </div>
                            </div>

                            <div class="sheet-section"  data-position="580|0|139">
                                <div class="section-title"><h3 id="id-647">转义字符</h3></div>
                                <div class="section-body">
                                    <p>一些特殊的字符，需要使用<code>\</code>进行转义。</p>

            <table>
                <thead class="hide">
                    <tr>
                        <th>code</th><th>desc</th>
                    </tr>
                </thead>
                <tbody>
                <tr><td><code>\a</code></td><td>警报，这会使得终端发出警报声或出现闪烁，或者两者同时发生</td></tr><tr><td><code>\b</code></td><td>退格键，光标回退一个字符，但不删除字符</td></tr><tr><td><code>\f</code></td><td>换页符，光标移到下一页。在现代系统上，这已经反映不出来了，行为改成类似于\v</td></tr><tr><td><code>\n</code></td><td>换行符</td></tr><tr><td><code>\r</code></td><td>回车符，光标移到同一行的开头</td></tr><tr><td><code>\t</code></td><td>制表符，光标移到下一个水平制表位，通常是下一个8的倍数</td></tr><tr><td><code>\v</code></td><td>垂直分隔符，光标移到下一个垂直制表位，通常是下一行的同一列</td></tr><tr><td><code>\0</code></td><td>null 字符，代表没有内容。注意，这个值不等于数字0</td></tr>
                </tbody>
            </table>
<p>转义写法还能使用八进制和十六进制表示一个字符。</p>

            <table>
                <thead class="hide">
                    <tr>
                        <th>code</th><th>desc</th>
                    </tr>
                </thead>
                <tbody>
                <tr><td><code>\nn</code></td><td>字符的八进制写法，nn为八进制值</td></tr><tr><td><code>\xnn</code></td><td>字符的十六进制写法，nn为十六进制值</td></tr>
                </tbody>
            </table>
<pre class="language-c" tabindex="0"><code class="language-c" style=""><span class="token keyword">char</span> x <span class="token operator">=</span> <span class="token string">'B'</span><span class="token punctuation">;</span>
<span class="token keyword">char</span> x <span class="token operator">=</span> <span class="token number">66</span><span class="token punctuation">;</span>
<span class="token keyword">char</span> x <span class="token operator">=</span> <span class="token string">'\102'</span><span class="token punctuation">;</span> <span class="token comment">// 八进制</span>
<span class="token keyword">char</span> x <span class="token operator">=</span> <span class="token string">'\x42'</span><span class="token punctuation">;</span> <span class="token comment">// 十六进制</span>
</code></pre>
                                </div>
                            </div>

                            <div class="sheet-section"  data-position="580|600|570">
                                <div class="section-title"><h3 id="id-648">整数类型</h3></div>
                                <div class="section-body">
                                    <p>整数类型用来表示较大的整数，类型声明使用<code>int</code>关键字。</p>
<p>不同计算机的<code>int</code>类型的大小是不一样的。比较常见的是使用<code>4</code>个字节（<code>32</code>位）存储一个<code>int</code>类型的值，但是<code>2</code>个字节（<code>16</code>位）或<code>8</code>个字节（<code>64</code>位）也有可能使用。</p>
<h4>signed，unsigned</h4>
<p><code>C</code> 语言使用<code>signed</code>关键字，表示一个类型带有正负号，包含负值；使用<code>unsigned</code>关键字，表示该类型不带有正负号，只能表示零和正整数。</p>
<p>对于<code>int</code>类型，默认是带有正负号的，也就是说<code>int</code>等同于<code>signed int</code>。由于这是默认情况，关键字<code>signed</code>一般都省略不写，但是写了也不算错。</p>
<pre class="language-c" tabindex="0"><code class="language-c" style=""><span class="token keyword">signed</span> <span class="token keyword">int</span> a<span class="token punctuation">;</span>
<span class="token comment">// 等同于</span>
<span class="token keyword">int</span> a<span class="token punctuation">;</span>
</code></pre>
<p><code>int</code>类型也可以不带正负号，只表示非负整数。这时就必须使用关键字<code>unsigned</code>声明变量。</p>
<p><code>unsigned int</code>里面的<code>int</code>可以省略，所以上面的变量声明也可以写成下面这样。</p>
<pre class="language-c" tabindex="0"><code class="language-c" style=""><span class="token keyword">unsigned</span> a<span class="token punctuation">;</span>
</code></pre>
<h4>整数的子类型</h4>
<p><code>C</code> 语言在<code>int</code>类型之外，又提供了三个整数的子类型。这样有利于更精细地限定整数变量的范围，也有利于更好地表达代码的意图。</p>
<ul><li><em>short int</em>（简写为<code>short</code>）：占用空间不多于<code>int</code>，一般占用<code>2</code>个字节（整数范围为<code>-32768</code>～<code>32767)</code>。
</li><li><em>long int</em>（简写为<code>long</code>）：占用空间不少于<code>int</code>，至少为<code>4</code>个字节。
</li><li><em>long long int</em>（简写为<code>long long</code>）：占用空间多于<code>long</code>，至少为<code>8</code>个字节。
</li></ul>
<p>默认情况下，<code>short</code>、<code>long</code>、<code>long long</code>都是带符号的（<code>signed</code>），即<code>signed</code>关键字省略了。它们也可以声明为不带符号（<code>unsigned</code>），使得能够表示的最大值扩大一倍。</p>
<p>不同的计算机，数据类型的字节长度是不一样的。确实需要<code>32</code>位整数时，应使用<code>long</code>类型而不是<code>int</code>类型，可以确保不少于<code>4</code>个字节；确实需要<code>64</code>位的整数时，应该使用<code>long long</code>类型，可以确保不少于<code>8</code>个字节。另一方面，为了节省空间，只需要<code>16</code>位整数时，应使用<code>short</code>类型；需要<code>8</code>位整数时，应该使用<code>char</code>类型。</p>
<h4>整数类型的极限值</h4>

            <table>
                <thead class="hide">
                    <tr>
                        <th>code</th><th>desc</th>
                    </tr>
                </thead>
                <tbody>
                <tr><td><code>SCHAR_MIN，SCHAR_MAX</code></td><td>signed char 的最小值和最大值</td></tr><tr><td><code>SHRT_MIN，SHRT_MAX</code></td><td>short 的最小值和最大值</td></tr><tr><td><code>INT_MIN，INT_MAX</code></td><td>int 的最小值和最大值</td></tr><tr><td><code>LONG_MIN，LONG_MAX</code></td><td>long 的最小值和最大值</td></tr><tr><td><code>LLONG_MIN，LLONG_MAX</code></td><td>long long 的最小值和最大值</td></tr><tr><td><code>UCHAR_MAX</code></td><td>unsigned char 的最大值</td></tr><tr><td><code>USHRT_MAX</code></td><td>unsigned short 的最大值</td></tr><tr><td><code>UINT_MAX</code></td><td>unsigned int 的最大值</td></tr><tr><td><code>ULONG_MAX</code></td><td>unsigned long 的最大值</td></tr><tr><td><code>ULLONG_MAX</code></td><td>unsigned long long 的最大值</td></tr>
                </tbody>
            </table>
<h4>整数的进制</h4>
<p><code>C</code> 语言的整数默认都是十进制数，如果要表示八进制数和十六进制数，必须使用专门的表示法。</p>
<p>八进制使用<code>0</code>作为前缀，比如<code>017</code>、<code>0377</code>。</p>
<pre class="language-c" tabindex="0"><code class="language-c" style=""><span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">012</span><span class="token punctuation">;</span> <span class="token comment">// 八进制，相当于十进制的10</span>
</code></pre>
<p>十六进制使用<code>0x</code>或<code>0X</code>作为前缀，比如<code>0xf</code>、<code>0X10</code>。</p>
<pre class="language-c" tabindex="0"><code class="language-c" style=""><span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">0x1A2B</span><span class="token punctuation">;</span> <span class="token comment">// 十六进制，相当于十进制的6699</span>
</code></pre>
<p>有些编译器使用<code>0b</code>前缀，表示二进制数，但不是标准。</p>
<pre class="language-c" tabindex="0"><code class="language-c" style=""><span class="token keyword">int</span> x <span class="token operator">=</span> <span class="token number">0</span>b101010<span class="token punctuation">;</span>
</code></pre>
<p>注意，不同的进制只是整数的书写方法，不会对整数的实际存储方式产生影响。所有整数都是二进制形式存储，跟书写方式无关。不同进制可以混合使用，比如<code>10 + 015 + 0x20</code>是一个合法的表达式。</p>
                                </div>
                            </div>

                            <div class="sheet-section"  data-position="580|0|826">
                                <div class="section-title"><h3 id="id-649">浮点数类型</h3></div>
                                <div class="section-body">
                                    <p>任何有小数点的数值，都会被编译器解释为浮点数。所谓“浮点数”就是使用 <code>m * b</code><sup>e</sup> 的形式，存储一个数值，<code>m</code>是小数部分，<code>b</code>是基数（通常是<code>2</code>），<code>e</code>是指数部分。这种形式是精度和数值范围的一种结合，可以表示非常大或者非常小的数。</p>
<p>浮点数的类型声明使用<code>float</code>关键字，可以用来声明浮点数变量。</p>
<p><code>float</code>类型占用<code>4</code>个字节（<code>32</code>位），其中<code>8</code>位存放指数的值和符号，剩下<code>24</code>位存放小数的值和符号。<code>float</code>类型至少能够提供（十进制的）<code>6</code>位有效数字，指数部分的范围为（十进制的）<code>-37</code>到<code>37</code>，即数值范围为<code>10-37</code>到<code>1037</code>。</p>
<p>有时候，<code>32</code>位浮点数提供的精度或者数值范围还不够，<code>C</code> 语言又提供了另外两种更大的浮点数类型。</p>
<ul><li><em>double</em>：占用<code>8</code>个字节（<code>64</code>位），至少提供<code>13</code>位有效数字。
</li><li><em>long double</em>：通常占用<code>16</code>个字节。
</li></ul>
<p><code>C</code> 语言允许使用科学计数法表示浮点数，使用字母<code>e</code>来分隔小数部分和指数部分。</p>
<pre class="language-c" tabindex="0"><code class="language-c" style=""><span class="token keyword">double</span> x <span class="token operator">=</span> <span class="token number">123.456e+3</span><span class="token punctuation">;</span> <span class="token comment">// 123.456 x 10^3</span>
<span class="token comment">// 等同于</span>
<span class="token keyword">double</span> x <span class="token operator">=</span> <span class="token number">123.456e3</span><span class="token punctuation">;</span>
</code></pre>
                                </div>
                            </div>

                            <div class="sheet-section"  data-position="580|0|1372">
                                <div class="section-title"><h3 id="id-650">布尔类型</h3></div>
                                <div class="section-body">
                                    <p><code>C</code> 语言原来并没有为布尔值单独设置一个类型，而是使用整数<code>0</code>表示伪，所有非零值表示真。</p>
<p><code>C99</code> 标准添加了类型<code>_Bool</code>，表示布尔值。但是，这个类型其实只是整数类型的别名，还是使用<code>0</code>表示伪，<code>1</code>表示真。加载头文件<code>stdbool.h</code>以后，就可以使用<code>bool</code>定义布尔值类型，以及<code>false</code>和<code>true</code>表示真伪。</p>
                                </div>
                            </div>

                            <div class="sheet-section"  data-position="580|0|1569">
                                <div class="section-title"><h3 id="id-651">字面量的类型</h3></div>
                                <div class="section-body">
                                    <p>字面量（<code>literal</code>）指的是代码里面直接出现的值。</p>
<pre class="language-c" tabindex="0"><code class="language-c" style=""><span class="token keyword">int</span> x <span class="token operator">=</span> <span class="token number">123</span><span class="token punctuation">;</span>
</code></pre>
<p>上面代码中，<code>x</code>是变量，<code>123</code>就是字面量。</p>
<p>编译时，字面量也会写入内存，因此编译器必须为字面量指定数据类型，就像必须为变量指定数据类型一样。</p>
<p>编译器将一个整数字面量指定为<code>int</code>类型，但是程序员希望将其指定为<code>long</code>类型，这时可以为该字面量加上后缀<code>l</code>或<code>L</code>，编译器就知道要把这个字面量的类型指定为<code>long</code>。</p>

            <table>
                <thead class="hide">
                    <tr>
                        <th>code</th><th>desc</th>
                    </tr>
                </thead>
                <tbody>
                <tr><td><code>f和F</code></td><td>float类型</td></tr><tr><td><code>l和L</code></td><td>对于整数是long int类型，对于小数是long double类型</td></tr><tr><td><code>ll和LL</code></td><td>Long Long 类型，比如3LL</td></tr><tr><td><code>u和U</code></td><td>表示unsigned int，比如15U、0377U</td></tr>
                </tbody>
            </table>
                                </div>
                            </div>

                            <div class="sheet-section"  data-position="580|0|2066">
                                <div class="section-title"><h3 id="id-652">溢出</h3></div>
                                <div class="section-body">
                                    <p>每一种数据类型都有数值范围，如果存放的数值超出了这个范围（小于最小值或大于最大值），需要更多的二进制位存储，就会发生溢出。大于最大值，叫做向上溢出（<code>overflow</code>）；小于最小值，叫做向下溢出（<code>underflow</code>）。</p>
<p>一般来说，编译器不会对溢出报错，会正常执行代码，但是会忽略多出来的二进制位，只保留剩下的位，这样往往会得到意想不到的结果。所以，应该避免溢出。</p>
<p>为了避免溢出，最好方法就是将运算结果与类型的极限值进行比较。</p>
<pre class="language-c" tabindex="0"><code class="language-c" style=""><span class="token keyword">unsigned</span> <span class="token keyword">int</span> ui<span class="token punctuation">;</span>
<span class="token keyword">unsigned</span> <span class="token keyword">int</span> sum<span class="token punctuation">;</span>

<span class="token comment">// 错误</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>sum <span class="token operator">+</span> ui <span class="token operator">&gt;</span> UINT_MAX<span class="token punctuation">)</span> <span class="token function">too_big</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">else</span> sum <span class="token operator">=</span> sum <span class="token operator">+</span> ui<span class="token punctuation">;</span>

<span class="token comment">// 正确</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>ui <span class="token operator">&gt;</span> UINT_MAX <span class="token operator">-</span> sum<span class="token punctuation">)</span> <span class="token function">too_big</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">else</span> sum <span class="token operator">=</span> sum <span class="token operator">+</span> ui<span class="token punctuation">;</span>
</code></pre>
                                </div>
                            </div>

                            <div class="sheet-section"  data-position="580|600|2464">
                                <div class="section-title"><h3 id="id-653">sizeof 运算符</h3></div>
                                <div class="section-body">
                                    <p><code>sizeof</code>是 <code>C</code> 语言提供的一个运算符，返回某种数据类型或某个值占用的字节数量。</p>
<p><code>C</code> 语言提供了一个解决方法，创造了一个类型别名<code>size_t</code>，用来统一表示<code>sizeof</code>的返回值类型。</p>
<p><code>C</code> 语言还提供了一个常量<code>SIZE_MAX</code>，表示<code>size_t</code>可以表示的最大整数。所以，<code>size_t</code>能够表示的整数范围为[<code>0, SIZE_MAX</code>]。</p>
<p><code>printf()</code>有专门的占位符<code>%zd</code>或<code>%zu</code>，用来处理<code>size_t</code>类型的值。</p>
<pre class="language-c" tabindex="0"><code class="language-c" style=""><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%zd\n"</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>上面代码中，不管<code>sizeof</code>返回值的类型是什么，<code>%zd</code>占位符（或<code>%zu</code>）都可以正确输出。</p>
<p>如果当前系统不支持<code>%zd</code>或<code>%zu</code>，可使用<code>%u</code>（<code>unsigned int</code>）或<code>%lu</code>（<code>unsigned long int</code>）代替。</p>
                                </div>
                            </div>

                            <div class="sheet-section"  data-position="580|0|2548">
                                <div class="section-title"><h3 id="id-654">类型的自动转换</h3></div>
                                <div class="section-body">
                                    <h4>赋值运算</h4>
<p>赋值运算符会自动将右边的值，转成左边变量的类型。</p>
<ul><li>浮点数赋予整数变量时，<code>C</code> 语言直接丢弃小数部分，而不是四舍五入。
</li><li>整数赋值给浮点数变量时，会自动转为浮点数。
</li><li>窄类型自动转为宽类型。
</li><li>宽类型赋值给窄类型，可能会发生截值（<code>truncation</code>），系统会自动截去多余的二进制位，导致难以预料的结果。
</li></ul>
<h4>混合类型的运算</h4>
<ul><li>整数与浮点数混合运算时，整数转为浮点数类型，与另一个运算数类型相同。
</li><li>不同的浮点数类型混合运算时，宽度较小的类型转为宽度较大的类型
</li><li>不同的整数类型混合运算时，宽度较小的类型会提升为宽度较大的类型
</li></ul>
<p>最好避免无符号整数与有符号整数的混合运算。因为这时 <code>C</code> 语言会自动将<code>signed int</code>转为<code>unsigned int</code>，可能不会得到预期的结果。</p>
<h4>函数</h4>
<p>函数的参数和返回值，会自动转成函数定义里指定的类型。</p>
                                </div>
                            </div>

                            <div class="sheet-section"  data-position="580|600|2892">
                                <div class="section-title"><h3 id="id-655">类型的显式转换</h3></div>
                                <div class="section-body">
                                    <p>原则上，应该避免类型的自动转换，防止出现意料之外的结果。</p>
<p>在一个值或变量的前面，使用圆括号指定类型<code>(type)</code>，就可以将这个值或变量转为指定的类型，这叫做“类型指定”（<code>casting</code>）。</p>
                                </div>
                            </div>

                            <div class="sheet-section"  data-position="580|600|3065">
                                <div class="section-title"><h3 id="id-656">可移植类型</h3></div>
                                <div class="section-body">
                                    <p>控制准确的字节宽度，代码可以有更好的可移植性，头文件<code>stdint.h</code>创造了一些新的类型别名。</p>
<h4>精确宽度类型(exact-width integer type)</h4>

            <table>
                <thead class="hide">
                    <tr>
                        <th>code</th><th>desc</th><th>code</th><th>desc</th>
                    </tr>
                </thead>
                <tbody>
                <tr><td><code>int8_t</code></td><td>8位有符号整数</td><td><code>int16_t</code></td><td>16位有符号整数</td></tr><tr><td><code>int32_t</code></td><td>32位有符号整数</td><td><code>int64_t</code></td><td>64位有符号整数</td></tr><tr><td><code>uint8_t</code></td><td>8位无符号整数</td><td><code>uint16_t</code></td><td>16位无符号整数</td></tr><tr><td><code>uint32_t</code></td><td>32位无符号整数</td><td><code>uint64_t</code></td><td>64位无符号整数</td></tr>
                </tbody>
            </table>
<p>上面这些都是类型别名，编译器会指定它们指向的底层类型。比如，某个系统中，如果<code>int</code>类型为<code>32</code>位，<code>int32_t</code>就会指向<code>int</code>；如果<code>long</code>类型为<code>32</code>位，<code>int32_t</code>则会指向<code>long</code>。</p>
<h4>最小宽度类型（minimum width type），保证某个整数类型的最小长度</h4>
<ul><li><code>int_least8_t</code>
</li><li><code>int_least16_t</code>
</li><li><code>int_least32_t</code>
</li><li><code>int_least64_t</code>
</li><li><code>uint_least8_t</code>
</li><li><code>uint_least16_t</code>
</li><li><code>uint_least32_t</code>
</li><li><code>uint_least64_t</code>
</li></ul>
<h4>最快的最小宽度类型（fast minimum width type），可以使整数计算达到最快的类型</h4>
<ul><li><code>int_fast8_t</code>
</li><li><code>int_fast16_t</code>
</li><li><code>int_fast32_t</code>
</li><li><code>int_fast64_t</code>
</li><li><code>uint_fast8_t</code>
</li><li><code>uint_fast16_t</code>
</li><li><code>uint_fast32_t</code>
</li><li><code>uint_fast64_t</code>
</li></ul>
<p>某些机器对于特定宽度的数据，运算速度最快，举例来说，<code>32</code>位计算机对于<code>32</code>位数据的运算速度，会快于<code>16</code>位数据。</p>
<h4>可以保存指针的整数类型</h4>
<ul><li><code>intptr_t</code>：可以存储指针（内存地址）的有符号整数类型。
</li><li><code>uintptr_t</code>：可以存储指针的无符号整数类型。
</li></ul>
<h4>最大宽度整数类型，用于存放最大的整数</h4>
<ul><li><code>intmax_t</code>：可以存储任何有效的有符号整数的类型。
</li><li><code>uintmax_t</code>：可以存放任何有效的无符号整数的类型。
</li></ul>
                                </div>
                            </div>
                            </div>
                            

                            <div class="h2-section" style="height: 1609px">
                                <div class="h2-section-title"><h2 id="id-663">指针</h2></div>
                                
                            <div class="sheet-section"  data-position="580|0|42">
                                <div class="section-title"><h3 id="id-658"></h3></div>
                                <div class="section-body">
                                    <p>指针是什么？首先，它是一个值，这个值代表一个内存地址，因此指针相当于指向某个内存地址的路标。</p>
<p>字符<code>*</code>表示指针，通常跟在类型关键字的后面。</p>
<pre class="language-c" tabindex="0"><code class="language-c" style=""><span class="token keyword">int</span><span class="token operator">*</span> intPtr<span class="token punctuation">;</span>
</code></pre>
<p>上面示例声明了一个变量<code>intPtr</code>，它是一个指针，指向的内存地址存放的是一个整数。</p>
<p>星号<code>*</code>可以放在变量名与类型关键字之间的任何地方，下面的写法都是有效的。</p>
<pre class="language-c" tabindex="0"><code class="language-c" style=""><span class="token keyword">int</span>   <span class="token operator">*</span>intPtr<span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token operator">*</span> intPtr<span class="token punctuation">;</span>
<span class="token keyword">int</span><span class="token operator">*</span>  intPtr<span class="token punctuation">;</span>

<span class="token comment">// 正确</span>
<span class="token keyword">int</span> <span class="token operator">*</span> foo<span class="token punctuation">,</span> <span class="token operator">*</span> bar<span class="token punctuation">;</span>

<span class="token comment">// 错误</span>
<span class="token keyword">int</span><span class="token operator">*</span> foo<span class="token punctuation">,</span> bar<span class="token punctuation">;</span>
</code></pre>
<p>一个指针指向的可能还是指针，这时就要用两个星号<code>**</code>表示。</p>
<pre class="language-c" tabindex="0"><code class="language-c" style=""><span class="token keyword">int</span><span class="token operator">*</span><span class="token operator">*</span> foo<span class="token punctuation">;</span>
</code></pre>
                                </div>
                            </div>

                            <div class="sheet-section"  data-position="580|600|42">
                                <div class="section-title"><h3 id="id-659">* 运算符</h3></div>
                                <div class="section-body">
                                    <p><code>*</code>这个符号除了表示指针以外，还可以作为运算符，用来取出指针变量所指向的内存地址里面的值。</p>
<pre class="language-c" tabindex="0"><code class="language-c" style=""><span class="token keyword">void</span> <span class="token function">increment</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span> p<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token operator">*</span>p <span class="token operator">=</span> <span class="token operator">*</span>p <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>上面示例中，函数<code>increment()</code>的参数是一个整数指针<code>p</code>。函数体里面，<code>*p</code>就表示指针<code>p</code>所指向的那个值。对<code>*p</code>赋值，就表示改变指针所指向的那个地址里面的值。函数体内部对该地址包含的值的操作，会影响到函数外部，所以不需要返回值。事实上，函数内部通过指针，将值传到外部，是 <code>C</code> 语言的常用方法。</p>
<p>对于需要大量存储空间的大型变量，复制变量值传入函数，非常浪费时间和空间，不如传入指针来得高效。</p>
                                </div>
                            </div>

                            <div class="sheet-section"  data-position="580|600|445">
                                <div class="section-title"><h3 id="id-660">&amp; 运算符</h3></div>
                                <div class="section-body">
                                    <p><code>&amp;</code>运算符用来取出一个变量所在的内存地址。</p>
<pre class="language-c" tabindex="0"><code class="language-c" style=""><span class="token keyword">void</span> <span class="token function">increment</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span> p<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token operator">*</span>p <span class="token operator">=</span> <span class="token operator">*</span>p <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> x <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token function">increment</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> x<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2</span>
</code></pre>
<p><code>&amp;</code>运算符与<code>*</code>运算符互为逆运算，下面的表达式总是成立。</p>
<pre class="language-c" tabindex="0"><code class="language-c" style=""><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">==</span> <span class="token operator">*</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 正确</span>
</code></pre>
                                </div>
                            </div>

                            <div class="sheet-section"  data-position="580|0|616">
                                <div class="section-title"><h3 id="id-661">指针变量的初始化</h3></div>
                                <div class="section-body">
                                    <p>声明指针变量之后，指针变量指向的值是随机的，必须先让它指向一个分配好的地址，然后再进行读写，这叫做指针变量的初始化。</p>
<pre class="language-c" tabindex="0"><code class="language-c" style=""><span class="token keyword">int</span> i<span class="token punctuation">;</span>
<span class="token keyword">int</span><span class="token operator">*</span> p <span class="token operator">=</span> <span class="token operator">&amp;</span>i<span class="token punctuation">;</span>
<span class="token operator">*</span>p <span class="token operator">=</span> <span class="token number">13</span><span class="token punctuation">;</span>
</code></pre>
<p>为了防止读写未初始化的指针变量，可以养成习惯，将未初始化的指针变量设为<code>NULL</code>。</p>
<pre class="language-c" tabindex="0"><code class="language-c" style=""><span class="token keyword">int</span><span class="token operator">*</span> p <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
</code></pre>
<p><code>NULL</code>在 <code>C</code> 语言中是一个常量，表示地址为<code>0</code>的内存空间，这个地址是无法使用的，读写该地址会报错。</p>
                                </div>
                            </div>

                            <div class="sheet-section"  data-position="580|600|864">
                                <div class="section-title"><h3 id="id-662">指针的运算</h3></div>
                                <div class="section-body">
                                    <p>指针本质上就是一个无符号整数，代表了内存地址。它可以进行运算，但是规则并不是整数运算的规则。</p>
<h4>指针与整数值的加减运算</h4>
<p>指针与整数值的运算，表示指针的移动。指针移动的单位，与指针指向的数据类型有关。数据类型占据多少个字节，每单位就移动多少个字节。</p>
<pre class="language-c" tabindex="0"><code class="language-c" style=""><span class="token keyword">short</span><span class="token operator">*</span> j<span class="token punctuation">;</span>
j <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">short</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token number">0x1234</span><span class="token punctuation">;</span>
j <span class="token operator">=</span> j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// 0x1236</span>
</code></pre>
<p><code>j + 1</code>表示指针向内存地址的高位移动一个单位，而一个单位的<code>short</code>类型占据两个字节的宽度，所以相当于向高位移动两个字节。</p>
<h4>指针与指针的加法运算</h4>
<p>指针只能与整数值进行加减运算，两个指针进行加法是非法的。</p>
<h4>指针与指针的减法</h4>
<p>相同类型的指针允许进行减法运算，返回它们之间的距离，即相隔多少个数据单位。</p>
<p>减法返回的值属于<code>ptrdiff_t</code>类型，这是一个带符号的整数类型别名，具体类型根据系统不同而不同。这个类型的原型定义在头文件<code>stddef.h</code>里面。</p>
<h4>指针与指针的比较运算</h4>
<p>指针之间的比较运算，比较的是各自的内存地址哪一个更大，返回值是整数<code>1</code>（<code>true</code>）或<code>0</code>（<code>false</code>）。</p>
                                </div>
                            </div>
                            </div>
                            

                            <div class="h2-section" style="height: 2569px">
                                <div class="h2-section-title"><h2 id="id-672">函数</h2></div>
                                
                            <div class="sheet-section"  data-position="580|0|42">
                                <div class="section-title"><h3 id="id-664">简介</h3></div>
                                <div class="section-body">
                                    <p>函数是一段可以重复执行的代码。它可以接受不同的参数，完成对应的操作。函数声明的语法有以下几点：</p>
<ul><li>返回值类型。不返回值的函数，使用<code>void</code>关键字表示返回值的类型。
</li><li>参数。没有参数的函数，声明时要用<code>void</code>关键字表示参数类型。
</li><li>函数体
</li><li><code>return</code>语句。<code>return</code>语句给出函数的返回值，程序运行到这一行，就会跳出函数体，结束函数的调用。如果函数没有返回值，可以省略<code>return</code>语句，或者写成<code>return;</code>。
</li></ul>
<p><code>C</code> 语言标准规定，函数只能声明在源码文件的顶层，不能声明在其他函数内部。</p>
                                </div>
                            </div>

                            <div class="sheet-section"  data-position="580|600|42">
                                <div class="section-title"><h3 id="id-665">main()</h3></div>
                                <div class="section-body">
                                    <p><code>C</code> 语言规定，<code>main()</code>是程序的入口函数，即所有的程序一定要包含一个<code>main()</code>函数。</p>
<p><code>C</code> 语言约定，返回值<code>0</code>表示函数运行成功，如果返回其他非零整数，就表示运行失败，代码出了问题。</p>
<p>正常情况下，如果<code>main()</code>里面省略<code>return 0</code>这一行，编译器会自动加上，即<code>main()</code>的默认返回值为<code>0</code>。</p>
                                </div>
                            </div>

                            <div class="sheet-section"  data-position="580|600|275">
                                <div class="section-title"><h3 id="id-666">参数的传值引用</h3></div>
                                <div class="section-body">
                                    <p>如果函数的参数是一个变量，那么调用时，传入的是这个变量的值的拷贝，而不是变量本身。</p>
<p>如果想要传入变量本身，只有一个办法，就是传入变量的地址（指针）。</p>
<p>函数不要返回内部变量的指针，因为当函数结束运行时，内部变量就消失了，这时指向内部变量内存地址就是无效的，再去使用这个地址是非常危险的。</p>
                                </div>
                            </div>

                            <div class="sheet-section"  data-position="580|0|352">
                                <div class="section-title"><h3 id="id-667">函数指针</h3></div>
                                <div class="section-body">
                                    <p>函数本身就是一段内存里面的代码，<code>C</code> 语言允许通过指针获取函数。</p>
<pre class="language-c" tabindex="0"><code class="language-c" style=""><span class="token keyword">void</span> <span class="token function">print</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> a<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token punctuation">(</span><span class="token operator">*</span>print_ptr<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token operator">&amp;</span>print<span class="token punctuation">;</span>
</code></pre>
<p><code>(*print_ptr)</code>一定要写在圆括号里面，否则函数参数<code>(int)</code>的优先级高于<code>*</code>。</p>
<pre class="language-c" tabindex="0"><code class="language-c" style=""><span class="token punctuation">(</span><span class="token operator">*</span>print_ptr<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 等同于</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>比较特殊的是，<code>C</code> 语言还规定，<em>函数名本身就是指向函数代码的指针</em>，通过函数名就能获取函数地址。也就是说，<code>print</code>和<code>&amp;print</code>是一回事。</p>
<p>为了简洁易读，一般情况下，函数名前面都不加<code>*</code>和<code>&amp;</code>。</p>
<p>这种特性的一个应用是，如果一个函数的参数或返回值，也是一个函数，那么函数原型可以写成下面这样。</p>
<pre class="language-c" tabindex="0"><code class="language-c" style=""><span class="token keyword">int</span> <span class="token function">compute</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token punctuation">(</span><span class="token operator">*</span>myfunc<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>上面示例可以清晰地表明，函数<code>compute()</code>的第一个参数也是一个函数。</p>
                                </div>
                            </div>

                            <div class="sheet-section"  data-position="580|600|482">
                                <div class="section-title"><h3 id="id-668">函数原型</h3></div>
                                <div class="section-body">
                                    <p>只要在程序开头处给出函数原型，函数就可以先使用、后声明。所谓函数原型，就是提前告诉编译器，每个函数的返回类型和参数类型。其他信息都不需要，也不用包括函数体，具体的函数实现可以后面再补上。</p>
<pre class="language-c" tabindex="0"><code class="language-c" style=""><span class="token keyword">int</span> <span class="token function">twice</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> num<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">twice</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">twice</span><span class="token punctuation">(</span><span class="token keyword">int</span> num<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token number">2</span> <span class="token operator">*</span> num<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
                                </div>
                            </div>

                            <div class="sheet-section"  data-position="580|600|848">
                                <div class="section-title"><h3 id="id-669">exit()</h3></div>
                                <div class="section-body">
                                    <p><code>exit()</code>函数用来终止整个程序的运行。一旦执行到该函数，程序就会立即结束。该函数的原型定义在头文件<code>stdlib.h</code>里面。</p>
<p><code>exit()</code>可以向程序外部返回一个值，它的参数就是程序的返回值。一般来说，使用两个常量作为它的参数：<code>EXIT_SUCCESS</code>（相当于 <code>0</code>）表示程序运行成功，<code>EXIT_FAILURE</code>（相当于 <code>1</code>）表示程序异常中止。这两个常数也是定义在<code>stdlib.h</code>里面。</p>
<pre class="language-c" tabindex="0"><code class="language-c" style=""><span class="token comment">// 程序运行成功</span>
<span class="token comment">// 等同于 exit(0);</span>
<span class="token function">exit</span><span class="token punctuation">(</span>EXIT_SUCCESS<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 程序异常中止</span>
<span class="token comment">// 等同于 exit(1);</span>
<span class="token function">exit</span><span class="token punctuation">(</span>EXIT_FAILURE<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><code>C</code> 语言还提供了一个<code>atexit()</code>函数，用来登记<code>exit()</code>执行时额外执行的函数，用来做一些退出程序时的收尾工作。该函数的原型也是定义在头文件<code>stdlib.h</code>。</p>
<pre class="language-c" tabindex="0"><code class="language-c" style=""><span class="token keyword">int</span> <span class="token function">atexit</span><span class="token punctuation">(</span><span class="token keyword">void</span> <span class="token punctuation">(</span><span class="token operator">*</span>func<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
                                </div>
                            </div>

                            <div class="sheet-section"  data-position="580|0|999">
                                <div class="section-title"><h3 id="id-670">函数说明符</h3></div>
                                <div class="section-body">
                                    <p><code>C</code> 语言提供了一些函数说明符，让函数用法更加明确。</p>
<h4>extern 说明符</h4>
<p>对于多文件的项目，源码文件会用到其他文件声明的函数。这时，当前文件里面，需要给出外部函数的原型，并用<code>extern</code>说明该函数的定义来自其他文件。</p>
<p>不过，由于函数原型默认就是<code>extern</code>，所以这里不加<code>extern</code>，效果是一样的。</p>
<h4>static 说明符</h4>
<p><code>static</code>用于<em>函数内部</em>声明变量时，表示该变量只需要初始化一次，不需要在每次调用时都进行初始化。也就是说，它的值在两次调用之间保持不变。</p>
<pre class="language-c" tabindex="0"><code class="language-c" style=""><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h&gt;</span></span>

<span class="token keyword">void</span> <span class="token function">counter</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">static</span> <span class="token keyword">int</span> count <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>  <span class="token comment">// 只初始化一次</span>
  <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> count<span class="token punctuation">)</span><span class="token punctuation">;</span>
  count<span class="token operator">++</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">counter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 1</span>
  <span class="token function">counter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 2</span>
<span class="token punctuation">}</span>
</code></pre>
<p><code>static</code>修饰的变量初始化时，只能赋值为常量，不能赋值为变量。</p>
<p>在<em>块作用域</em>中，<code>static</code>声明的变量有默认值<code>0</code>。</p>
<p><code>static</code>可以用来<em>修饰函数本身</em>。</p>
<p><code>static</code>也可以用在参数里面，修饰<em>参数数组</em>。</p>
<pre class="language-c" tabindex="0"><code class="language-c" style=""><span class="token keyword">int</span> <span class="token function">sum_array</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">[</span><span class="token keyword">static</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> n<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span>
</code></pre>
<p>上面示例中，<code>static</code>对程序行为不会有任何影响，只是用来告诉编译器，该数组长度至少为<code>3</code>，某些情况下可以加快程序运行速度。另外，需要注意的是，对于多维数组的参数，<code>static</code>仅可用于第一维的说明。</p>
<h4>const 说明符</h4>
<p>函数参数里面的<code>const</code>说明符，表示函数内部不得修改该参数变量。</p>
<pre class="language-c" tabindex="0"><code class="language-c" style=""><span class="token keyword">void</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">int</span><span class="token operator">*</span> p<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">int</span> x <span class="token operator">=</span> <span class="token number">13</span><span class="token punctuation">;</span>
  p <span class="token operator">=</span> <span class="token operator">&amp;</span>x<span class="token punctuation">;</span> <span class="token comment">// 允许修改</span>

  <span class="token operator">*</span>p <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">// 该行报错</span>
<span class="token punctuation">}</span>
</code></pre>
<p>上面示例中，声明函数时，<code>const</code>指定不能修改指针<code>p</code>指向的值，而<code>p</code>本身的地址是可以修改的。</p>
<p>如果想限制修改<code>p</code>，可以把<code>const</code>放在<code>p</code>前面。</p>
<pre class="language-c" tabindex="0"><code class="language-c" style=""><span class="token keyword">void</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span> <span class="token keyword">const</span> p<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">int</span> x <span class="token operator">=</span> <span class="token number">13</span><span class="token punctuation">;</span>
  p <span class="token operator">=</span> <span class="token operator">&amp;</span>x<span class="token punctuation">;</span> <span class="token comment">// 该行报错</span>
<span class="token punctuation">}</span>
</code></pre>
<p>如果想同时限制修改<code>p</code>和<code>*p</code>，需要使用两个<code>const</code>。</p>
<pre class="language-c" tabindex="0"><code class="language-c" style=""><span class="token keyword">void</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">int</span><span class="token operator">*</span> <span class="token keyword">const</span> p<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span>
</code></pre>
                                </div>
                            </div>

                            <div class="sheet-section"  data-position="580|600|1358">
                                <div class="section-title"><h3 id="id-671">可变参数</h3></div>
                                <div class="section-body">
                                    <p>可以使用省略号<code>...</code>表示可变数量的参数，必须放在参数序列的结尾，否则会报错。</p>
<p>头文件<code>stdarg.h</code>定义了一些宏，可以操作可变参数。</p>
<ul><li><code>va_list</code>：一个数据类型，用来定义一个可变参数对象。它必须在操作可变参数时，首先使用。
</li><li><code>va_start</code>：一个函数，用来初始化可变参数对象。它接受两个参数，第一个参数是可变参数对象，第二个参数是原始函数里面，可变参数之前的那个参数，用来为可变参数定位。
</li><li><code>va_arg</code>：一个函数，用来取出当前那个可变参数，每次调用后，内部指针就会指向下一个可变参数。它接受两个参数，第一个是可变参数对象，第二个是当前可变参数的类型。
</li><li><code>va_end</code>：一个函数，用来清理可变参数对象。
</li></ul>
<pre class="language-c" tabindex="0"><code class="language-c" style=""><span class="token keyword">double</span> <span class="token function">average</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">double</span> total <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
  va_list ap<span class="token punctuation">;</span>
  <span class="token function">va_start</span><span class="token punctuation">(</span>ap<span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> i<span class="token punctuation">;</span> <span class="token operator">++</span>j<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    total <span class="token operator">+=</span> <span class="token function">va_arg</span><span class="token punctuation">(</span>ap<span class="token punctuation">,</span> <span class="token keyword">double</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">va_end</span><span class="token punctuation">(</span>ap<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> total <span class="token operator">/</span> i<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>上面示例中，<code>va_list ap</code>定义<code>ap</code>为可变参数对象，<code>va_start(ap, i)</code>将参数<code>i</code>后面的参数统一放入<code>ap</code>，<code>va_arg(ap, double)</code>用来从<code>ap</code>依次取出一个参数，并且指定该参数为 <code>double</code> 类型，<code>va_end(ap)</code>用来清理可变参数对象。</p>
                                </div>
                            </div>
                            </div>
                            

                            <div class="h2-section" style="height: 2698px">
                                <div class="h2-section-title"><h2 id="id-681">数组</h2></div>
                                
                            <div class="sheet-section"  data-position="580|0|42">
                                <div class="section-title"><h3 id="id-673">简介</h3></div>
                                <div class="section-body">
                                    <p>声明数组时，必须给出数组的大小，数组的成员从<code>0</code>开始编号。</p>
<p>数组名后面使用方括号指定编号，就可以引用该成员。也可以通过该方式，对该位置进行赋值。</p>
<pre class="language-c" tabindex="0"><code class="language-c" style=""><span class="token keyword">int</span> scores<span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

scores<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">13</span><span class="token punctuation">;</span>
scores<span class="token punctuation">[</span><span class="token number">99</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">42</span><span class="token punctuation">;</span>
</code></pre>
<p>越界访问数组不会报错，使用时必须小心。</p>
<p>数组也可以在声明时，使用大括号，同时对每一个成员赋值：</p>
<pre class="language-c" tabindex="0"><code class="language-c" style=""><span class="token keyword">int</span> a<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">22</span><span class="token punctuation">,</span> <span class="token number">37</span><span class="token punctuation">,</span> <span class="token number">3490</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">,</span> <span class="token number">95</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
<p>如果大括号里面的值，少于数组的成员数量，那么未赋值的成员自动初始化为<code>0</code>。如果要将整个数组的每一个成员都设置为零，最简单的写法就是下面这样。</p>
<pre class="language-c" tabindex="0"><code class="language-c" style=""><span class="token keyword">int</span> a<span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
<p>数组初始化时，可以指定为哪些位置的成员赋值。</p>
<pre class="language-c" tabindex="0"><code class="language-c" style=""><span class="token keyword">int</span> a<span class="token punctuation">[</span><span class="token number">15</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">29</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">9</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">14</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">48</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
                                </div>
                            </div>

                            <div class="sheet-section"  data-position="580|600|42">
                                <div class="section-title"><h3 id="id-674">数组长度</h3></div>
                                <div class="section-body">
                                    <p><code>sizeof</code>运算符会返回整个数组的字节长度。</p>
<pre class="language-c" tabindex="0"><code class="language-c" style=""><span class="token keyword">int</span> a<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">22</span><span class="token punctuation">,</span> <span class="token number">37</span><span class="token punctuation">,</span> <span class="token number">3490</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> arrLen <span class="token operator">=</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 12</span>
</code></pre>
<p>由于数组成员都是同一个类型，每个成员的字节长度都是一样的，所以数组整体的字节长度除以某个数组成员的字节长度，就可以得到数组的成员数量。</p>
<pre class="language-c" tabindex="0"><code class="language-c" style=""><span class="token keyword">sizeof</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre>
<p>注意，<code>sizeof</code>返回值的数据类型是<code>size_t</code>，所以<code>sizeof(a) / sizeof(a</code><span class="sn">0</span><code>)</code>的数据类型也是<code>size_t</code>。在<code>printf()</code>里面的占位符，要用<code>%zd</code>或<code>%zu</code>。</p>
                                </div>
                            </div>

                            <div class="sheet-section"  data-position="580|600|417">
                                <div class="section-title"><h3 id="id-675">多维数组</h3></div>
                                <div class="section-body">
                                    <p><code>C</code> 语言允许声明多个维度的数组，有多少个维度，就用多少个方括号，比如二维数组就使用两个方括号。</p>
<pre class="language-c" tabindex="0"><code class="language-c" style=""><span class="token keyword">int</span> board<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

board<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">13</span><span class="token punctuation">;</span>
board<span class="token punctuation">[</span><span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">9</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">13</span><span class="token punctuation">;</span>
</code></pre>
<p>注意，<code>board[0][0]</code>不能写成<code>board[0, 0]</code>，因为<code>0, 0</code>是一个逗号表达式，返回第二个值，所以<code>board[0, 0]</code>等同于<code>board[0]</code>。</p>
<p>多维数组也可以使用大括号，一次性对所有成员赋值。</p>
                                </div>
                            </div>

                            <div class="sheet-section"  data-position="580|0|650">
                                <div class="section-title"><h3 id="id-676">变长数组</h3></div>
                                <div class="section-body">
                                    <p>数组声明的时候，数组长度除了使用常量，也可以使用变量。这叫做变长数组（<code>variable-length array</code>，简称 <code>VLA</code>）。</p>
<pre class="language-c" tabindex="0"><code class="language-c" style=""><span class="token keyword">int</span> n <span class="token operator">=</span> x <span class="token operator">+</span> y<span class="token punctuation">;</span>
<span class="token keyword">int</span> arr<span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre>
<p>变长数组的根本特征，就是数组长度只有运行时才能确定。</p>
                                </div>
                            </div>

                            <div class="sheet-section"  data-position="580|600|771">
                                <div class="section-title"><h3 id="id-677">数组的地址</h3></div>
                                <div class="section-body">
                                    <p>数组是一连串连续储存的同类型值，只要获得起始地址（首个成员的内存地址），就能推算出其他成员的地址。</p>
<pre class="language-c" tabindex="0"><code class="language-c" style=""><span class="token keyword">int</span> a<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">,</span> <span class="token number">33</span><span class="token punctuation">,</span> <span class="token number">44</span><span class="token punctuation">,</span> <span class="token number">55</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">int</span><span class="token operator">*</span> p<span class="token punctuation">;</span>

p <span class="token operator">=</span> <span class="token operator">&amp;</span>a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> <span class="token operator">*</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// Prints "11"</span>
</code></pre>
<p>上面示例中，<code>&amp;a[0]</code>就是数组<code>a</code>的首个成员<code>11</code>的内存地址，也是整个数组的起始地址。反过来，从这个地址（<code>*p</code>），可以获得首个成员的值<code>11</code>。</p>
<p>由于数组的起始地址是常用操作，<code>&amp;array[0]</code>的写法有点麻烦，<code>C</code> 语言提供了便利写法，数组名等同于起始地址，也就是说，数组名就是指向第一个成员（<code>array[0]</code>）的指针。</p>
                                </div>
                            </div>

                            <div class="sheet-section"  data-position="580|0|904">
                                <div class="section-title"><h3 id="id-678">数组指针的加减法</h3></div>
                                <div class="section-body">
                                    <p>数组名可以进行加法和减法运算，等同于在数组成员之间前后移动，即从一个成员的内存地址移动到另一个成员的内存地址。比如，<code>a + 1</code>返回下一个成员的地址，<code>a - 1</code>返回上一个成员的地址。</p>
<pre class="language-c" tabindex="0"><code class="language-c" style=""><span class="token keyword">int</span> a<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">,</span> <span class="token number">33</span><span class="token punctuation">,</span> <span class="token number">44</span><span class="token punctuation">,</span> <span class="token number">55</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> <span class="token operator">*</span><span class="token punctuation">(</span>a <span class="token operator">+</span> i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>上面示例中，通过指针的移动遍历数组，<code>a + i</code>的每轮循环每次都会指向下一个成员的地址，<code>*(a + i)</code>取出该地址的值，等同于<code>a[i]</code>。对于数组的第一个成员，<code>*(a + 0)</code>（即<code>*a</code>）等同于<code>a[0]</code>。</p>
<p>由于数组名与指针是等价的，所以下面的等式总是成立。</p>
<pre class="language-c" tabindex="0"><code class="language-c" style="">a<span class="token punctuation">[</span>b<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token operator">*</span><span class="token punctuation">(</span>a <span class="token operator">+</span> b<span class="token punctuation">)</span>
</code></pre>
<p>上面代码给出了数组成员的两种访问方式，一种是使用方括号<code>a[b]</code>，另一种是使用指针<code>*(a + b)</code>。</p>
<p>如果指针变量<code>p</code>指向数组的一个成员，那么<code>p++</code>就相当于指向下一个成员，这种方法常用来遍历数组。</p>
<pre class="language-c" tabindex="0"><code class="language-c" style=""><span class="token keyword">int</span> a<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">,</span> <span class="token number">33</span><span class="token punctuation">,</span> <span class="token number">44</span><span class="token punctuation">,</span> <span class="token number">55</span><span class="token punctuation">,</span> <span class="token number">999</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">int</span><span class="token operator">*</span> p <span class="token operator">=</span> a<span class="token punctuation">;</span>

<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">*</span>p <span class="token operator">!=</span> <span class="token number">999</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> <span class="token operator">*</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span>
  p<span class="token operator">++</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>遍历数组一般都是通过数组长度的比较来实现，但也可以通过数组起始地址和结束地址的比较来实现。</p>
<pre class="language-c" tabindex="0"><code class="language-c" style=""><span class="token keyword">int</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span> start<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">*</span> end<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">int</span> total <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

  <span class="token keyword">while</span> <span class="token punctuation">(</span>start <span class="token operator">&lt;</span> end<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    total <span class="token operator">+=</span> <span class="token operator">*</span>start<span class="token punctuation">;</span>
    start<span class="token operator">++</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">return</span> total<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> arr<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">39</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%i\n"</span><span class="token punctuation">,</span> <span class="token function">sum</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> arr <span class="token operator">+</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
                                </div>
                            </div>

                            <div class="sheet-section"  data-position="580|600|1188">
                                <div class="section-title"><h3 id="id-679">数组的复制</h3></div>
                                <div class="section-body">
                                    <p>由于数组名是指针，所以复制数组不能简单地复制数组名。</p>
<pre class="language-c" tabindex="0"><code class="language-c" style=""><span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> N<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
  a<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> b<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre>
<p>另一种方法是使用<code>memcpy()</code>函数（定义在头文件<code>string.h</code>），直接把数组所在的那一段内存，再复制一份。</p>
<pre class="language-c" tabindex="0"><code class="language-c" style=""><span class="token function">memcpy</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
                                </div>
                            </div>

                            <div class="sheet-section"  data-position="580|600|1489">
                                <div class="section-title"><h3 id="id-680">作为函数的参数</h3></div>
                                <div class="section-body">
                                    <h4>声明参数数组</h4>
<p>数组作为函数的参数，一般会同时传入数组名和数组长度。</p>
<pre class="language-c" tabindex="0"><code class="language-c" style=""><span class="token keyword">int</span> <span class="token function">sum_array</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> n<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> a<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> sum <span class="token operator">=</span> <span class="token function">sum_array</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h4>变长数组作为参数</h4>
<pre class="language-c" tabindex="0"><code class="language-c" style=""><span class="token keyword">int</span> <span class="token function">sum_array</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">,</span> <span class="token keyword">int</span> a<span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> a<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> sum <span class="token operator">=</span> <span class="token function">sum_array</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> a<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>变量<code>n</code>作为参数时，顺序一定要在变长数组前面，这样运行时才能确定数组<code>a[n]</code>的长度，否则就会报错。</p>
<p>因为函数原型可以省略参数名，所以变长数组的原型中，可以使用<code>*</code>代替变量名，也可以省略变量名。</p>
<pre class="language-c" tabindex="0"><code class="language-c" style=""><span class="token keyword">int</span> <span class="token function">sum_array</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">int</span> <span class="token punctuation">[</span><span class="token operator">*</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token function">sum_array</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">int</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>变长数组作为函数参数有一个好处，就是多维数组的参数声明，可以把后面的维度省掉了。</p>
<pre class="language-c" tabindex="0"><code class="language-c" style=""><span class="token comment">// 原来的写法</span>
<span class="token keyword">int</span> <span class="token function">sum_array</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 变长数组的写法</span>
<span class="token keyword">int</span> <span class="token function">sum_array</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">,</span> <span class="token keyword">int</span> m<span class="token punctuation">,</span> <span class="token keyword">int</span> a<span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">[</span>m<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>上面示例中，函数<code>sum_array()</code>的参数是一个多维数组，按照原来的写法，一定要声明第二维的长度。但是使用变长数组的写法，就不用声明第二维长度了，因为它可以作为参数传入函数。</p>
<h4>数组字面量作为参数</h4>
<pre class="language-c" tabindex="0"><code class="language-c" style=""><span class="token comment">// 数组变量作为参数</span>
<span class="token keyword">int</span> a<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> sum <span class="token operator">=</span> <span class="token function">sum_array</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 数组字面量作为参数</span>
<span class="token keyword">int</span> sum <span class="token operator">=</span> <span class="token function">sum_array</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>上面示例中，两种写法是等价的。第二种写法省掉了数组变量的声明，直接将数组字面量传入函数。<code>{2, 3, 4, 5}</code>是数组值的字面量，<code>(int [])</code>类似于强制的类型转换，告诉编译器怎么理解这组值。</p>
                                </div>
                            </div>
                            </div>
                            

                <div class="h2-section" style="height: 2257px">
                    <div class="h2-section-title"><h2 id="id-688">字符串</h2></div>
                    
                            <div class="sheet-section"  data-position="580|0|42">
                                <div class="section-title"><h3 id="id-682">简介</h3></div>
                                <div class="section-body">
                                    <p><code>C</code> 语言没有单独的字符串类型，字符串被当作字符数组，即<code>char</code>类型的数组。比如，字符串<code>Hello</code>是当作数组<code>{'H', 'e', 'l', 'l', 'o'}</code>处理的。</p>
<p>编译器会给数组分配一段连续内存，所有字符储存在相邻的内存单元之中。在字符串结尾，<code>C</code> 语言会自动添加一个全是二进制<code>0</code>的字节，写作<code>\0</code>字符，表示字符串结束。字符<code>\0</code>不同于字符<code>0</code>，前者的 <code>ASCII</code> 码是<code>0</code>（二进制形式<code>00000000</code>），后者的 <code>ASCII</code> 码是<code>48</code>（二进制形式<code>00110000</code>）。所以，字符串“<code>Hello</code>”实际储存的数组是<code>{'H', 'e', 'l', 'l', 'o', '\0'}</code></p>
<pre class="language-c" tabindex="0"><code class="language-c" style=""><span class="token keyword">char</span> localString<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre>
<p>上面示例声明了一个<code>10</code>个成员的字符数组，可以当作字符串。由于必须留一个位置给<code>\0</code>，所以最多只能容纳<code>9</code>个字符的字符串。</p>
<p>字符串写成数组的形式，是非常麻烦的。<code>C</code> 语言提供了一种简写法，<em>双引号之中的字符</em>，会被自动视为字符数组。</p>
<p>如果字符串过长，可以在需要折行的地方，使用反斜杠（<code>\</code>）结尾，将一行拆成多行。</p>
<pre class="language-c" tabindex="0"><code class="language-c" style=""><span class="token string">"hello \
world"</span>
</code></pre>
<p><code>C</code> 语言允许合并多个字符串字面量，只要这些字符串之间没有间隔，或者只有空格，<code>C</code> 语言会将它们自动合并。</p>
<pre class="language-c" tabindex="0"><code class="language-c" style=""><span class="token keyword">char</span> greeting<span class="token punctuation">[</span><span class="token number">50</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"Hello, "</span><span class="token string">"how are you "</span><span class="token string">"today!"</span><span class="token punctuation">;</span>
<span class="token comment">// 等同于</span>
<span class="token keyword">char</span> greeting<span class="token punctuation">[</span><span class="token number">50</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"Hello, how are you today!"</span><span class="token punctuation">;</span>

<span class="token keyword">char</span> greeting<span class="token punctuation">[</span><span class="token number">50</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"Hello, "</span>
  <span class="token string">"how are you "</span>
  <span class="token string">"today!"</span><span class="token punctuation">;</span>
</code></pre>
<p><code>printf()</code>使用占位符<code>%s</code>输出字符串。</p>
<pre class="language-c" tabindex="0"><code class="language-c" style=""><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%s\n"</span><span class="token punctuation">,</span> <span class="token string">"hello world"</span><span class="token punctuation">)</span>
</code></pre>
                                </div>
                            </div>

                            <div class="sheet-section"  data-position="580|600|42">
                                <div class="section-title"><h3 id="id-683">字符串变量的声明</h3></div>
                                <div class="section-body">
                                    <p>字符串变量可以声明成一个字符数组，也可以声明成一个指针，指向字符数组。</p>
<pre class="language-c" tabindex="0"><code class="language-c" style=""><span class="token comment">// 写法一</span>
<span class="token keyword">char</span> s<span class="token punctuation">[</span><span class="token number">14</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"Hello, world!"</span><span class="token punctuation">;</span>

<span class="token comment">// 写法二</span>
<span class="token keyword">char</span><span class="token operator">*</span> s <span class="token operator">=</span> <span class="token string">"Hello, world!"</span><span class="token punctuation">;</span>

<span class="token comment">// 写法三 （编译器自动计算数组长度）</span>
<span class="token keyword">char</span> s<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"Hello, world!"</span><span class="token punctuation">;</span>
</code></pre>
<p>字符指针和字符数组，这两种声明字符串变量的写法基本是等价的，但是有两个差异。</p>
<h4>第一个差异是，指针指向的字符串，在 C 语言内部被当作常量，不能修改字符串本身。</h4>
<pre class="language-c" tabindex="0"><code class="language-c" style=""><span class="token keyword">char</span><span class="token operator">*</span> s <span class="token operator">=</span> <span class="token string">"Hello, world!"</span><span class="token punctuation">;</span>
s<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'z'</span><span class="token punctuation">;</span> <span class="token comment">// 错误</span>
</code></pre>
<p>如果使用数组声明字符串变量，就没有这个问题，可以修改数组的任意成员。</p>
<pre class="language-c" tabindex="0"><code class="language-c" style=""><span class="token keyword">char</span> s<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"Hello, world!"</span><span class="token punctuation">;</span>
s<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'z'</span><span class="token punctuation">;</span>
</code></pre>
<p>原因是系统会将字符串的字面量保存在内存的常量区，这个区是不允许用户修改的。声明为指针时，指针变量存储的只是一个指向常量区的内存地址，因此用户不能通过这个地址去修改常量区。但是，声明为数组时，编译器会给数组单独分配一段内存，字符串字面量会被编译器解释成字符数组，逐个字符写入这段新分配的内存之中，而这段新内存是允许修改的。</p>
<p>为了提醒用户，字符串声明为指针后不得修改，可以在声明时使用<code>const</code>说明符，保证该字符串是只读的。</p>
<pre class="language-c" tabindex="0"><code class="language-c" style=""><span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> s <span class="token operator">=</span> <span class="token string">"Hello, world!"</span><span class="token punctuation">;</span>
</code></pre>
<h4>第二个差异是，指针变量可以指向其它字符串。</h4>
<pre class="language-c" tabindex="0"><code class="language-c" style=""><span class="token keyword">char</span><span class="token operator">*</span> s <span class="token operator">=</span> <span class="token string">"hello"</span><span class="token punctuation">;</span>
s <span class="token operator">=</span> <span class="token string">"world"</span><span class="token punctuation">;</span>
</code></pre>
<p>但是，字符数组变量不能指向另一个字符串。</p>
<pre class="language-c" tabindex="0"><code class="language-c" style=""><span class="token keyword">char</span> s<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"hello"</span><span class="token punctuation">;</span>
s <span class="token operator">=</span> <span class="token string">"world"</span><span class="token punctuation">;</span> <span class="token comment">// 报错</span>
</code></pre>
<p>原因是数组变量所在的地址无法改变，或者说，编译器一旦为数组变量分配地址后，这个地址就绑定这个数组变量了，这种绑定关系是不变的。<code>C</code> 语言也因此规定，数组变量是一个不可修改的左值，即不能用赋值运算符为它重新赋值。</p>
<p>想要重新赋值，必须使用 <code>C</code> 语言原生提供的<code>strcpy()</code>函数，通过字符串拷贝完成赋值，数组变量的地址还是不变的。</p>
                                </div>
                            </div>

                            <div class="sheet-section"  data-position="580|0|934">
                                <div class="section-title"><h3 id="id-684">strlen()</h3></div>
                                <div class="section-body">
                                    <p><code>strlen()</code>函数返回字符串的字节长度，不包括末尾的空字符<code>\0</code>。该函数的原型如下。</p>
<pre class="language-c" tabindex="0"><code class="language-c" style=""><span class="token comment">// string.h</span>
<span class="token class-name">size_t</span> <span class="token function">strlen</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> s<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>返回的是<code>size_t</code>类型的无符号整数，除非是极长的字符串，一般情况下当作<code>int</code>类型处理即可。</p>
<pre class="language-c" tabindex="0"><code class="language-c" style=""><span class="token keyword">char</span><span class="token operator">*</span> str <span class="token operator">=</span> <span class="token string">"hello"</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> len <span class="token operator">=</span> <span class="token function">strlen</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 5</span>
</code></pre>
                                </div>
                            </div>

                            <div class="sheet-section"  data-position="580|600|1214">
                                <div class="section-title"><h3 id="id-685">strcpy()</h3></div>
                                <div class="section-body">
                                    <p>字符串的复制，不能使用赋值运算符，直接将一个字符串赋值给字符数组变量。</p>
<pre class="language-c" tabindex="0"><code class="language-c" style=""><span class="token keyword">char</span> str1<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">char</span> str2<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

str1 <span class="token operator">=</span> <span class="token string">"abc"</span><span class="token punctuation">;</span> <span class="token comment">// 报错</span>
str2 <span class="token operator">=</span> str1<span class="token punctuation">;</span>  <span class="token comment">// 报错</span>
</code></pre>
<p>因为数组的变量名是一个固定的地址，不能修改，使其指向另一个地址。</p>
<p>如果是字符指针，赋值运算符（<code>=</code>）只是将一个指针的地址复制给另一个指针，而不是复制字符串。</p>
<pre class="language-c" tabindex="0"><code class="language-c" style=""><span class="token keyword">char</span><span class="token operator">*</span> s1<span class="token punctuation">;</span>
<span class="token keyword">char</span><span class="token operator">*</span> s2<span class="token punctuation">;</span>

s1 <span class="token operator">=</span> <span class="token string">"abc"</span><span class="token punctuation">;</span>
s2 <span class="token operator">=</span> s1<span class="token punctuation">;</span>
</code></pre>
<p>两个指针变量<code>s1</code>和<code>s2</code>指向同一字符串，而不是将字符串<code>s1</code>的内容复制给<code>s2</code>。</p>
<p><code>C</code> 语言提供了<code>strcpy()</code>函数，用于将一个字符串的内容复制到另一个字符串，相当于字符串赋值。该函数的原型定义在<code>string.h</code>头文件里面。</p>
<pre class="language-c" tabindex="0"><code class="language-c" style=""><span class="token function">strcpy</span><span class="token punctuation">(</span><span class="token keyword">char</span> dest<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">char</span> source<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre>
<p><code>strcpy()</code>的返回值是一个字符串指针（即<code>char*</code>），指向第一个参数。</p>
<pre class="language-c" tabindex="0"><code class="language-c" style=""><span class="token keyword">char</span><span class="token operator">*</span> s1 <span class="token operator">=</span> <span class="token string">"beast"</span><span class="token punctuation">;</span>
<span class="token keyword">char</span> s2<span class="token punctuation">[</span><span class="token number">40</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"Be the best that you can be."</span><span class="token punctuation">;</span>
<span class="token keyword">char</span><span class="token operator">*</span> ps<span class="token punctuation">;</span>

ps <span class="token operator">=</span> <span class="token function">strcpy</span><span class="token punctuation">(</span>s2 <span class="token operator">+</span> <span class="token number">7</span><span class="token punctuation">,</span> s1<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">puts</span><span class="token punctuation">(</span>s2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Be the beast</span>
<span class="token function">puts</span><span class="token punctuation">(</span>ps<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// beast</span>
</code></pre>
<p>上面示例中，从<code>s2</code>的第<code>7</code>个位置开始拷贝字符串<code>beast</code>，前面的位置不变。这导致<code>s2</code>后面的内容都被截去了，因为会连<code>beast</code>结尾的空字符一起拷贝。<code>strcpy()</code>返回的是一个指针，指向拷贝开始的位置。</p>
<p><code>strcpy()</code>函数有安全风险，因为它并不检查目标字符串的长度，是否足够容纳源字符串的副本，可能导致写入溢出。如果不能保证不会发生溢出，建议使用<code>strncpy()</code>函数代替。</p>
                                </div>
                            </div>

                            <div class="sheet-section"  data-position="580|0|1256">
                                <div class="section-title"><h3 id="id-686">strncpy()</h3></div>
                                <div class="section-body">
                                    <p><code>strncpy()</code>跟<code>strcpy()</code>的用法完全一样，只是多了第<code>3</code>个参数，用来指定复制的最大字符数，防止溢出目标字符串变量的边界。</p>
<pre class="language-c" tabindex="0"><code class="language-c" style=""><span class="token keyword">char</span> <span class="token operator">*</span><span class="token function">strncpy</span><span class="token punctuation">(</span>
  <span class="token keyword">char</span> <span class="token operator">*</span>dest<span class="token punctuation">,</span> 
  <span class="token keyword">char</span> <span class="token operator">*</span>src<span class="token punctuation">,</span> 
  <span class="token class-name">size_t</span> n
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>达到最大字符数以后，源字符串仍然没有复制完，就会停止复制，这时目的字符串结尾将没有终止符<code>\0</code>，这一点务必注意。如果源字符串的字符数小于<code>n</code>，则<code>strncpy()</code>的行为与<code>strcpy()</code>完全一致。</p>
<pre class="language-c" tabindex="0"><code class="language-c" style=""><span class="token function">strncpy</span><span class="token punctuation">(</span>str1<span class="token punctuation">,</span> str2<span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>str1<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
str1<span class="token punctuation">[</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>str1<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'\0'</span><span class="token punctuation">;</span>
</code></pre>
<p>上面示例中，字符串<code>str2</code>复制给<code>str1</code>，但是复制长度最多为<code>str1</code>的长度减去<code>1</code>，<code>str1</code>剩下的最后一位用于写入字符串的结尾标志<code>\0</code>。这是因为<code>strncpy()</code>不会自己添加<code>\0</code>，如果复制的字符串片段不包含结尾标志，就需要手动添加。</p>
<p><code>strncpy()</code>也可以用来拷贝部分字符串。</p>
<pre class="language-c" tabindex="0"><code class="language-c" style=""><span class="token keyword">char</span> s1<span class="token punctuation">[</span><span class="token number">40</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">char</span> s2<span class="token punctuation">[</span><span class="token number">12</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"hello world"</span><span class="token punctuation">;</span>

<span class="token function">strncpy</span><span class="token punctuation">(</span>s1<span class="token punctuation">,</span> s2<span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
s1<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'\0'</span><span class="token punctuation">;</span>

<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%s\n"</span><span class="token punctuation">,</span> s1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// hello</span>
</code></pre>
<p>上面示例中，指定只拷贝前<code>5</code>个字符。</p>
                                </div>
                            </div>

                <div class="sheet-section"  data-position="580|0|2036">
                    <div class="section-title"><h3 id="id-687"><code>strcat()</code></h3></div>
                    <div class="section-body">
                        <p><code>strcat()</code>函数用于连接字符串。它接受两个字符串作为参数，把第二个字符串的副本添加到第一个字符串的末尾。这个函数会改变第一个字符串，但是第二个字符串不变。</p>
<p>该函数的原型定义在<code>string.h</code>头文件里面。</p>
<pre class="language-c" tabindex="0"><code class="language-c" style=""><span class="token keyword">char</span><span class="token operator">*</span> <span class="token function">strcat</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span> s1<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> s2<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
                    </div>
                </div>
                </div>
                
            </div>
            <div id="sheet-nav">
        <div class="nav-wrapper">
            <div class="nav-btn">
                <div class="nav-btn__item nav-btn-top">顶</div>
                <div class="nav-btn__item nav-btn-menu">菜</div>
            </div>
            <div class="nav-content hide">
                    <div class="nav-item nav-type-H2 " title="基本语法" data-id="id-621" data-pid="">
                    <span class="next-ctrl">+</span> 基本语法
                    </div>
                
                    <div class="nav-item nav-type-H3 hide" title="语句" data-id="id-613" data-pid="id-621">
                    <span class="next-ctrl"></span> 语句
                    </div>
                
                    <div class="nav-item nav-type-H3 hide" title="表达式" data-id="id-614" data-pid="id-621">
                    <span class="next-ctrl"></span> 表达式
                    </div>
                
                    <div class="nav-item nav-type-H3 hide" title="语句块" data-id="id-615" data-pid="id-621">
                    <span class="next-ctrl"></span> 语句块
                    </div>
                
                    <div class="nav-item nav-type-H3 hide" title="注释" data-id="id-616" data-pid="id-621">
                    <span class="next-ctrl"></span> 注释
                    </div>
                
                    <div class="nav-item nav-type-H3 hide" title="printf()" data-id="id-617" data-pid="id-621">
                    <span class="next-ctrl"></span> printf()
                    </div>
                
                    <div class="nav-item nav-type-H3 hide" title="printf() 占位符" data-id="id-618" data-pid="id-621">
                    <span class="next-ctrl"></span> printf() 占位符
                    </div>
                
                    <div class="nav-item nav-type-H3 hide" title="printf() 输出格式" data-id="id-619" data-pid="id-621">
                    <span class="next-ctrl"></span> printf() 输出格式
                    </div>
                
                    <div class="nav-item nav-type-H3 hide" title="标准库，头文件" data-id="id-620" data-pid="id-621">
                    <span class="next-ctrl"></span> 标准库，头文件
                    </div>
                
                    <div class="nav-item nav-type-H2 " title="变量" data-id="id-626" data-pid="">
                    <span class="next-ctrl">+</span> 变量
                    </div>
                
                    <div class="nav-item nav-type-H3 hide" title="变量名" data-id="id-622" data-pid="id-626">
                    <span class="next-ctrl"></span> 变量名
                    </div>
                
                    <div class="nav-item nav-type-H3 hide" title="变量的声明" data-id="id-623" data-pid="id-626">
                    <span class="next-ctrl"></span> 变量的声明
                    </div>
                
                    <div class="nav-item nav-type-H3 hide" title="变量的赋值" data-id="id-624" data-pid="id-626">
                    <span class="next-ctrl"></span> 变量的赋值
                    </div>
                
                    <div class="nav-item nav-type-H3 hide" title="变量的作用域" data-id="id-625" data-pid="id-626">
                    <span class="next-ctrl"></span> 变量的作用域
                    </div>
                
                    <div class="nav-item nav-type-H2 " title="运算符" data-id="id-634" data-pid="">
                    <span class="next-ctrl">+</span> 运算符
                    </div>
                
                    <div class="nav-item nav-type-H3 hide" title="算术运算符" data-id="id-627" data-pid="id-634">
                    <span class="next-ctrl"></span> 算术运算符
                    </div>
                
                    <div class="nav-item nav-type-H3 hide" title="自增运算符，自减运算符" data-id="id-628" data-pid="id-634">
                    <span class="next-ctrl"></span> 自增运算符，自减运算符
                    </div>
                
                    <div class="nav-item nav-type-H3 hide" title="关系运算符" data-id="id-629" data-pid="id-634">
                    <span class="next-ctrl"></span> 关系运算符
                    </div>
                
                    <div class="nav-item nav-type-H3 hide" title="逻辑运算符" data-id="id-630" data-pid="id-634">
                    <span class="next-ctrl"></span> 逻辑运算符
                    </div>
                
                    <div class="nav-item nav-type-H3 hide" title="位运算符" data-id="id-631" data-pid="id-634">
                    <span class="next-ctrl"></span> 位运算符
                    </div>
                
                    <div class="nav-item nav-type-H3 hide" title="逗号运算符" data-id="id-632" data-pid="id-634">
                    <span class="next-ctrl"></span> 逗号运算符
                    </div>
                
                    <div class="nav-item nav-type-H3 hide" title="运算优先级" data-id="id-633" data-pid="id-634">
                    <span class="next-ctrl"></span> 运算优先级
                    </div>
                
                    <div class="nav-item nav-type-H2 " title="流程控制" data-id="id-644" data-pid="">
                    <span class="next-ctrl">+</span> 流程控制
                    </div>
                
                    <div class="nav-item nav-type-H3 hide" title="if 语句" data-id="id-635" data-pid="id-644">
                    <span class="next-ctrl"></span> if 语句
                    </div>
                
                    <div class="nav-item nav-type-H3 hide" title="三元运算符 ?:" data-id="id-636" data-pid="id-644">
                    <span class="next-ctrl"></span> 三元运算符 ?:
                    </div>
                
                    <div class="nav-item nav-type-H3 hide" title="switch 语句" data-id="id-637" data-pid="id-644">
                    <span class="next-ctrl"></span> switch 语句
                    </div>
                
                    <div class="nav-item nav-type-H3 hide" title="while 语句" data-id="id-638" data-pid="id-644">
                    <span class="next-ctrl"></span> while 语句
                    </div>
                
                    <div class="nav-item nav-type-H3 hide" title="do...while 结构" data-id="id-639" data-pid="id-644">
                    <span class="next-ctrl"></span> do...while 结构
                    </div>
                
                    <div class="nav-item nav-type-H3 hide" title="for 语句" data-id="id-640" data-pid="id-644">
                    <span class="next-ctrl"></span> for 语句
                    </div>
                
                    <div class="nav-item nav-type-H3 hide" title="break 语句" data-id="id-641" data-pid="id-644">
                    <span class="next-ctrl"></span> break 语句
                    </div>
                
                    <div class="nav-item nav-type-H3 hide" title="continue 语句" data-id="id-642" data-pid="id-644">
                    <span class="next-ctrl"></span> continue 语句
                    </div>
                
                    <div class="nav-item nav-type-H3 hide" title="goto 语句" data-id="id-643" data-pid="id-644">
                    <span class="next-ctrl"></span> goto 语句
                    </div>
                
                    <div class="nav-item nav-type-H2 " title="数据类型" data-id="id-657" data-pid="">
                    <span class="next-ctrl">+</span> 数据类型
                    </div>
                
                    <div class="nav-item nav-type-H3 hide" title="字符类型" data-id="id-646" data-pid="id-657">
                    <span class="next-ctrl"></span> 字符类型
                    </div>
                
                    <div class="nav-item nav-type-H3 hide" title="转义字符" data-id="id-647" data-pid="id-657">
                    <span class="next-ctrl"></span> 转义字符
                    </div>
                
                    <div class="nav-item nav-type-H3 hide" title="整数类型" data-id="id-648" data-pid="id-657">
                    <span class="next-ctrl"></span> 整数类型
                    </div>
                
                    <div class="nav-item nav-type-H3 hide" title="浮点数类型" data-id="id-649" data-pid="id-657">
                    <span class="next-ctrl"></span> 浮点数类型
                    </div>
                
                    <div class="nav-item nav-type-H3 hide" title="布尔类型" data-id="id-650" data-pid="id-657">
                    <span class="next-ctrl"></span> 布尔类型
                    </div>
                
                    <div class="nav-item nav-type-H3 hide" title="字面量的类型" data-id="id-651" data-pid="id-657">
                    <span class="next-ctrl"></span> 字面量的类型
                    </div>
                
                    <div class="nav-item nav-type-H3 hide" title="溢出" data-id="id-652" data-pid="id-657">
                    <span class="next-ctrl"></span> 溢出
                    </div>
                
                    <div class="nav-item nav-type-H3 hide" title="sizeof 运算符" data-id="id-653" data-pid="id-657">
                    <span class="next-ctrl"></span> sizeof 运算符
                    </div>
                
                    <div class="nav-item nav-type-H3 hide" title="类型的自动转换" data-id="id-654" data-pid="id-657">
                    <span class="next-ctrl"></span> 类型的自动转换
                    </div>
                
                    <div class="nav-item nav-type-H3 hide" title="类型的显式转换" data-id="id-655" data-pid="id-657">
                    <span class="next-ctrl"></span> 类型的显式转换
                    </div>
                
                    <div class="nav-item nav-type-H3 hide" title="可移植类型" data-id="id-656" data-pid="id-657">
                    <span class="next-ctrl"></span> 可移植类型
                    </div>
                
                    <div class="nav-item nav-type-H2 " title="指针" data-id="id-663" data-pid="">
                    <span class="next-ctrl">+</span> 指针
                    </div>
                
                    <div class="nav-item nav-type-H3 hide" title="* 运算符" data-id="id-659" data-pid="id-663">
                    <span class="next-ctrl"></span> * 运算符
                    </div>
                
                    <div class="nav-item nav-type-H3 hide" title="&amp; 运算符" data-id="id-660" data-pid="id-663">
                    <span class="next-ctrl"></span> &amp; 运算符
                    </div>
                
                    <div class="nav-item nav-type-H3 hide" title="指针变量的初始化" data-id="id-661" data-pid="id-663">
                    <span class="next-ctrl"></span> 指针变量的初始化
                    </div>
                
                    <div class="nav-item nav-type-H3 hide" title="指针的运算" data-id="id-662" data-pid="id-663">
                    <span class="next-ctrl"></span> 指针的运算
                    </div>
                
                    <div class="nav-item nav-type-H2 " title="函数" data-id="id-672" data-pid="">
                    <span class="next-ctrl">+</span> 函数
                    </div>
                
                    <div class="nav-item nav-type-H3 hide" title="简介" data-id="id-664" data-pid="id-672">
                    <span class="next-ctrl"></span> 简介
                    </div>
                
                    <div class="nav-item nav-type-H3 hide" title="main()" data-id="id-665" data-pid="id-672">
                    <span class="next-ctrl"></span> main()
                    </div>
                
                    <div class="nav-item nav-type-H3 hide" title="参数的传值引用" data-id="id-666" data-pid="id-672">
                    <span class="next-ctrl"></span> 参数的传值引用
                    </div>
                
                    <div class="nav-item nav-type-H3 hide" title="函数指针" data-id="id-667" data-pid="id-672">
                    <span class="next-ctrl"></span> 函数指针
                    </div>
                
                    <div class="nav-item nav-type-H3 hide" title="函数原型" data-id="id-668" data-pid="id-672">
                    <span class="next-ctrl"></span> 函数原型
                    </div>
                
                    <div class="nav-item nav-type-H3 hide" title="exit()" data-id="id-669" data-pid="id-672">
                    <span class="next-ctrl"></span> exit()
                    </div>
                
                    <div class="nav-item nav-type-H3 hide" title="函数说明符" data-id="id-670" data-pid="id-672">
                    <span class="next-ctrl"></span> 函数说明符
                    </div>
                
                    <div class="nav-item nav-type-H3 hide" title="可变参数" data-id="id-671" data-pid="id-672">
                    <span class="next-ctrl"></span> 可变参数
                    </div>
                
                    <div class="nav-item nav-type-H2 " title="数组" data-id="id-681" data-pid="">
                    <span class="next-ctrl">+</span> 数组
                    </div>
                
                    <div class="nav-item nav-type-H3 hide" title="简介" data-id="id-673" data-pid="id-681">
                    <span class="next-ctrl"></span> 简介
                    </div>
                
                    <div class="nav-item nav-type-H3 hide" title="数组长度" data-id="id-674" data-pid="id-681">
                    <span class="next-ctrl"></span> 数组长度
                    </div>
                
                    <div class="nav-item nav-type-H3 hide" title="多维数组" data-id="id-675" data-pid="id-681">
                    <span class="next-ctrl"></span> 多维数组
                    </div>
                
                    <div class="nav-item nav-type-H3 hide" title="变长数组" data-id="id-676" data-pid="id-681">
                    <span class="next-ctrl"></span> 变长数组
                    </div>
                
                    <div class="nav-item nav-type-H3 hide" title="数组的地址" data-id="id-677" data-pid="id-681">
                    <span class="next-ctrl"></span> 数组的地址
                    </div>
                
                    <div class="nav-item nav-type-H3 hide" title="数组指针的加减法" data-id="id-678" data-pid="id-681">
                    <span class="next-ctrl"></span> 数组指针的加减法
                    </div>
                
                    <div class="nav-item nav-type-H3 hide" title="数组的复制" data-id="id-679" data-pid="id-681">
                    <span class="next-ctrl"></span> 数组的复制
                    </div>
                
                    <div class="nav-item nav-type-H3 hide" title="作为函数的参数" data-id="id-680" data-pid="id-681">
                    <span class="next-ctrl"></span> 作为函数的参数
                    </div>
                
                    <div class="nav-item nav-type-H2 " title="字符串" data-id="id-688" data-pid="">
                    <span class="next-ctrl">+</span> 字符串
                    </div>
                
                    <div class="nav-item nav-type-H3 hide" title="简介" data-id="id-682" data-pid="id-688">
                    <span class="next-ctrl"></span> 简介
                    </div>
                
                    <div class="nav-item nav-type-H3 hide" title="字符串变量的声明" data-id="id-683" data-pid="id-688">
                    <span class="next-ctrl"></span> 字符串变量的声明
                    </div>
                
                    <div class="nav-item nav-type-H3 hide" title="strlen()" data-id="id-684" data-pid="id-688">
                    <span class="next-ctrl"></span> strlen()
                    </div>
                
                    <div class="nav-item nav-type-H3 hide" title="strcpy()" data-id="id-685" data-pid="id-688">
                    <span class="next-ctrl"></span> strcpy()
                    </div>
                
                    <div class="nav-item nav-type-H3 hide" title="strncpy()" data-id="id-686" data-pid="id-688">
                    <span class="next-ctrl"></span> strncpy()
                    </div>
                
                    <div class="nav-item nav-type-H3 hide" title="strcat()" data-id="id-687" data-pid="id-688">
                    <span class="next-ctrl"></span> strcat()
                    </div>
                </div>
        </div>
        </div>
        </div></div>

    



<script src="../js/util/function.js?version=2021082402"></script><script src="../js/util/event-hub.js?version=2021082402"></script><script src="../js/3rdparty/prism.js?version=2021082402"></script><script src="../js/module/loading.js?version=2021082402"></script><script src="../js/module/home.js?version=2021082402"></script><script src="../js/module/cheatsheet.js?version=2021082402"></script><script src="../js/module/menu.js?version=2021082402"></script><script src="../js/3rdparty/jszip.min.js?version=2021082402"></script><script src="../js/util/saveData.js?version=2021082402"></script></body></html>